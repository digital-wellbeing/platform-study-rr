<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Psychological Wellbeing, Sleep, and Video Gaming: Analyses of Comprehensive Digital Traces - 6&nbsp; Study 3: Genres and wellbeing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./3_sleep.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./4_genres.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Study 3: Genres and wellbeing</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Psychological Wellbeing, Sleep, and Video Gaming: Analyses of Comprehensive Digital Traces</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Psychological Wellbeing, Sleep, and Video Gaming: Analyses of Comprehensive Digital Traces</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0_generateSyntheticData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Generate Synthetic Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_preprocess.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Preprocess Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_basicNeeds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Study 1: Gaming and Basic Needs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_sleep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Study 2: Gaming and Sleep</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_genres.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Study 3: Genres and wellbeing</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#load-libraries-and-data" id="toc-load-libraries-and-data" class="nav-link active" data-scroll-target="#load-libraries-and-data"><span class="header-section-number">6.1</span> Load libraries and data</a></li>
  <li><a href="#merge-data" id="toc-merge-data" class="nav-link" data-scroll-target="#merge-data"><span class="header-section-number">6.2</span> Merge data</a></li>
  <li><a href="#aggregate-telemetry-data" id="toc-aggregate-telemetry-data" class="nav-link" data-scroll-target="#aggregate-telemetry-data"><span class="header-section-number">6.3</span> Aggregate telemetry data</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">6.4</span> Analysis</a></li>
  <li><a href="#h1.-the-overall-effect-of-playtime-on-wellbeing" id="toc-h1.-the-overall-effect-of-playtime-on-wellbeing" class="nav-link" data-scroll-target="#h1.-the-overall-effect-of-playtime-on-wellbeing"><span class="header-section-number">6.5</span> H1. The overall effect of playtime on wellbeing</a>
  <ul class="collapse">
  <li><a href="#equivalence-test" id="toc-equivalence-test" class="nav-link" data-scroll-target="#equivalence-test"><span class="header-section-number">6.5.1</span> Equivalence test</a></li>
  </ul></li>
  <li><a href="#h2.-genre-moderates-the-relationship-between-playtime-and-wellbeing" id="toc-h2.-genre-moderates-the-relationship-between-playtime-and-wellbeing" class="nav-link" data-scroll-target="#h2.-genre-moderates-the-relationship-between-playtime-and-wellbeing"><span class="header-section-number">6.6</span> H2. Genre moderates the relationship between playtime and wellbeing</a>
  <ul class="collapse">
  <li><a href="#raw-model" id="toc-raw-model" class="nav-link" data-scroll-target="#raw-model"><span class="header-section-number">6.6.1</span> Raw model</a></li>
  <li><a href="#rewb-model" id="toc-rewb-model" class="nav-link" data-scroll-target="#rewb-model"><span class="header-section-number">6.6.2</span> REWB model</a></li>
  <li><a href="#plot-all-estimates" id="toc-plot-all-estimates" class="nav-link" data-scroll-target="#plot-all-estimates"><span class="header-section-number">6.6.3</span> Plot all estimates</a></li>
  <li><a href="#joint-hypotheses-test" id="toc-joint-hypotheses-test" class="nav-link" data-scroll-target="#joint-hypotheses-test"><span class="header-section-number">6.6.4</span> Joint hypotheses test</a></li>
  <li><a href="#pairwise-tests" id="toc-pairwise-tests" class="nav-link" data-scroll-target="#pairwise-tests"><span class="header-section-number">6.6.5</span> Pairwise tests</a></li>
  <li><a href="#other-tests" id="toc-other-tests" class="nav-link" data-scroll-target="#other-tests"><span class="header-section-number">6.6.6</span> Other tests</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Study 3: Genres and wellbeing</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>TODOs:</p>
<p>The following to-dos are suggestions for how to improve the analysis in this notebook after data collection:</p>
<p>- Include iOS and android data.</p>
<p>- Include UK data, and add region confounder.</p>
<p>- Get the steam genre data also from the IGDB API (currently the simulated personas only play across 5 genres).</p>
<p>- Potentially upgrade the data aggregation logic to merge Steam game sessions if they are consecutive and for the same game (can’t be done now because of how the titles are always generated to be different).</p>
<p>- Add confounders age, gender, platform.</p>
</div>
</div>
<section id="load-libraries-and-data" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="load-libraries-and-data"><span class="header-section-number">6.1</span> Load libraries and data</h2>
<div class="cell">
<details class="code-fold">
<summary>Show code (load libraries)</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(knitr, tidyverse, dplyr, lme4, marginaleffects, interactions, data.table, readr, datawizard, kableExtra, R.utils, modelsummary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/91/wdzc_7yx0x77b157785fyt6w0000gn/T//Rtmp0FUB06/downloaded_packages</code></pre>
</div>
<details class="code-fold">
<summary>Show code (load libraries)</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">8675309</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code (load data)</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>panel <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"data-synthetic/synPanelClean.csv.gz"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_date =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-01"</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-15"</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-29"</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-12"</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-26"</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      wave <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-10"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_date =</span> start_date <span class="sc">+</span> <span class="dv">13</span>  <span class="co"># Each wave covers a 14-day period</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synDiaryClean.csv.gz"</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>intake <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synIntakeClean.csv.gz"</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>ninRaw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synNintendo.csv.gz"</span>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>xboxRaw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synXbox.csv.gz"</span>) </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>steamRaw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synSteam.csv.gz"</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>iOSRaw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/syniOS.csv.gz"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>androidRaw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-synthetic/synAndroid.csv.gz"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="merge-data" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="merge-data"><span class="header-section-number">6.2</span> Merge data</h2>
<p>We also perform some simple preprocessing here:</p>
<p>- We create a <code>start_date</code> and <code>end_date</code> column in the panel data to represent the start and end of each wave.</p>
<p>- We separate the genre column in the Nintendo, Xbox, and Steam data into five separate columns.</p>
<p>- Xbox and Nintendo have roughly 4000 unique genres, which is too many to work with. We recode these into a smaller number of genres by separating the primary genres from the sub genres.</p>
<p>In contrast to Xbox and Nintendo data, Steam data is not session-level; rather, it is a total amount of time spent playing each game during the previous hour. So to calculate how much time each player spent playing each genre each day and create a variable for how many sessions, we need to recode the data to match the format of the other two datasets.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (merge data)</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nin <span class="ot">&lt;-</span> ninRaw <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sessionEnd =</span> sessionStart <span class="sc">+</span> <span class="fu">minutes</span>(<span class="fu">round</span>(duration)), <span class="at">.after =</span> sessionStart) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genre, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre1"</span>, <span class="st">"genre2"</span>, <span class="st">"genre3"</span>, <span class="st">"genre4"</span>, <span class="st">"genre5"</span>), <span class="at">sep =</span> <span class="st">","</span>, <span class="at">fill =</span> <span class="st">"right"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>xbox <span class="ot">&lt;-</span> xboxRaw <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sessionEnd =</span> sessionStart <span class="sc">+</span> <span class="fu">minutes</span>(<span class="fu">round</span>(duration)), <span class="at">.after =</span> sessionStart) <span class="sc">|&gt;</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genre, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre1"</span>, <span class="st">"genre2"</span>, <span class="st">"genre3"</span>, <span class="st">"genre4"</span>, <span class="st">"genre5"</span>), <span class="at">sep =</span> <span class="st">","</span>, <span class="at">fill =</span> <span class="st">"right"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> steamRaw <span class="sc">|&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration =</span> minutes,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">titleID =</span> Name,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sessionStart =</span> date <span class="sc">+</span> <span class="fu">hours</span>(hour)) <span class="sc">|&gt;</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genre, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre1"</span>, <span class="st">"genre2"</span>, <span class="st">"genre3"</span>, <span class="st">"genre4"</span>, <span class="st">"genre5"</span>), <span class="at">sep =</span> <span class="st">","</span>, <span class="at">fill =</span> <span class="st">"right"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">|&gt;</span>                    <span class="co"># Group by player ID and date</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">session =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span>         <span class="co"># Create a sequential session number</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()       </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>telemetry <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(nin, xbox, steam) <span class="sc">|&gt;</span> </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">genre_grouped =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Action"</span>, <span class="st">"Adventure"</span>) <span class="sc">~</span> <span class="st">"Action/Adventure"</span>,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Hack and slash/Beat 'em up"</span>, <span class="st">"Fighting"</span>) <span class="sc">~</span> <span class="st">"Fighting"</span>,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Shooter"</span>) <span class="sc">~</span> <span class="st">"Shooter"</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Real Time Strategy (RTS)"</span>, <span class="st">"Strategy"</span>, <span class="st">"Turn-based strategy (TBS)"</span>, <span class="st">"Tactical"</span>) <span class="sc">~</span> <span class="st">"Strategy"</span>,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Role-playing (RPG)"</span>) <span class="sc">~</span> <span class="st">"RPG"</span>,</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MOBA"</span>) <span class="sc">~</span> <span class="st">"MOBA"</span>,</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Puzzle"</span>, <span class="st">"Casual"</span>, <span class="st">"Card &amp; Board Game"</span>) <span class="sc">~</span> <span class="st">"Casual/Puzzle"</span>,</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Sport"</span>,<span class="st">"Simulator"</span>, <span class="st">"Racing"</span>) <span class="sc">~</span> <span class="st">"Simulation/Sports/Racing"</span>,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Platform"</span>, <span class="st">"Arcade"</span>) <span class="sc">~</span> <span class="st">"Platform/Arcade"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>      genre1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Indie"</span>, <span class="st">"Music"</span>, <span class="st">"Visual Novel"</span>) <span class="sc">~</span> <span class="st">"Indie/Other"</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span>  <span class="co"># This catches any genres not listed above</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">genre_grouped =</span> <span class="fu">gsub</span>(<span class="st">"/"</span>, <span class="st">"_"</span>, <span class="fu">tolower</span>(genre_grouped))</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, genre_grouped) <span class="sc">|&gt;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">previous_day_duration =</span> <span class="fu">lag</span>(duration, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="aggregate-telemetry-data" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="aggregate-telemetry-data"><span class="header-section-number">6.3</span> Aggregate telemetry data</h2>
<p>Aggregate playtime by genre within each wave for each participant, in wide format.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (aggregate playtime)</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>aggregated_playtime <span class="ot">&lt;-</span> telemetry <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wave =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-01"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-14"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-15"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-28"</span>) <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-05-29"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-11"</span>) <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-12"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-25"</span>) <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-06-26"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-09"</span>) <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-10"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-23"</span>) <span class="sc">~</span> <span class="dv">6</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, wave, genre_grouped) <span class="sc">|&gt;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">time =</span> <span class="fu">sum</span>(duration, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> genre_grouped, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> time, </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="dv">0</span>, <span class="co"># Fill missing values with 0</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">"time_"</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_time_all_genres =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">"time_"</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># Calculate total time</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"time_"</span>), <span class="sc">~</span> . <span class="sc">/</span> total_time_all_genres, <span class="at">.names =</span> <span class="st">"prop_{.col}"</span>), <span class="co"># Calculate proportion of time for each genre</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># get the variable names</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>genre_vars <span class="ot">&lt;-</span> aggregated_playtime <span class="sc">|&gt;</span> </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"time_"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>()</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co"># demean</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>aggregated_playtime <span class="ot">&lt;-</span> aggregated_playtime <span class="sc">|&gt;</span> </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    datawizard<span class="sc">::</span><span class="fu">demean</span>(aggregated_playtime, <span class="at">select =</span> <span class="fu">c</span>(genre_vars, <span class="st">"total_time_all_genres"</span>), <span class="at">by =</span> <span class="st">"pid"</span>)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(panel, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"wave"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analysis" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="analysis"><span class="header-section-number">6.4</span> Analysis</h2>
<p>Data is analyzed using a multilevel model to account for the nested structure of the data, where repeated measurements (6 bi-weekly waves) are nested within participants. In this analysis, we examine the relationship between playtime and well-being, as well as how this relationship is moderated by genre. We test two hypotheses: H1. The overall effect of playtime on well-being H2. Genre moderates the relationship between playtime and well-being.</p>
</section>
<section id="h1.-the-overall-effect-of-playtime-on-wellbeing" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="h1.-the-overall-effect-of-playtime-on-wellbeing"><span class="header-section-number">6.5</span> H1. The overall effect of playtime on wellbeing</h2>
<p>To test the hypothesis that playtime is associated with well-being, we fit a random effects model with random intercepts and slopes for total playtime within and between genres. We then conduct an equivalence test to determine if the effect of playtime on well-being is within a predefined equivalence margin.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (h1_model)</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>h1_total_time <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  wemwbs <span class="sc">~</span> total_time_all_genres_within <span class="sc">+</span> total_time_all_genres_between <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> total_time_all_genres_within <span class="sc">|</span> pid), </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> aggregated_playtime</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom formatting function for scientific notation</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>scientific_fmt <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatC</span>(x, <span class="at">format =</span> <span class="st">"e"</span>, <span class="at">digits =</span> <span class="dv">3</span>)}  <span class="co"># Show numbers in scientific notation with 3 significant digits</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model using modelsummary</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">`</span><span class="at">Model H1</span><span class="st">`</span> <span class="ot">=</span> h1_total_time),</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> scientific_fmt,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate  =</span> <span class="st">"{estimate} [{conf.low}, {conf.high}]{stars}"</span>, </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="cn">NULL</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_3i5y0xq3sn67ydotb8ty(i, j, css_id) {
        var table = document.getElementById("tinytable_3i5y0xq3sn67ydotb8ty");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_3i5y0xq3sn67ydotb8ty');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_3i5y0xq3sn67ydotb8ty(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_3i5y0xq3sn67ydotb8ty");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(0, 0, 'tinytable_css_idflbbqefusrd8d95g8g2d') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(0, 1, 'tinytable_css_idn1y6xet8dj9e7qlfo1kl') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(1, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(1, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(2, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(2, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(3, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(3, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(4, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(4, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(5, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(5, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(6, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(6, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(7, 0, 'tinytable_css_idqjhsak2eo87ugrcs9680') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(7, 1, 'tinytable_css_idyyip2ggcxnxw8td0zxe7') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(8, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(8, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(9, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(9, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(10, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(10, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(11, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(11, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(12, 0, 'tinytable_css_id7ttlyd6klwcmzaca1w3v') })
window.addEventListener('load', function () { styleCell_3i5y0xq3sn67ydotb8ty(12, 1, 'tinytable_css_id8gc4npombc63xxd83tqk') })
    </script>

    <style>
    .table td.tinytable_css_idflbbqefusrd8d95g8g2d, .table th.tinytable_css_idflbbqefusrd8d95g8g2d {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idn1y6xet8dj9e7qlfo1kl, .table th.tinytable_css_idn1y6xet8dj9e7qlfo1kl {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id7ttlyd6klwcmzaca1w3v, .table th.tinytable_css_id7ttlyd6klwcmzaca1w3v {  text-align: left; }
    .table td.tinytable_css_id8gc4npombc63xxd83tqk, .table th.tinytable_css_id8gc4npombc63xxd83tqk {  text-align: center; }
    .table td.tinytable_css_idqjhsak2eo87ugrcs9680, .table th.tinytable_css_idqjhsak2eo87ugrcs9680 {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idyyip2ggcxnxw8td0zxe7, .table th.tinytable_css_idyyip2ggcxnxw8td0zxe7 {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_3i5y0xq3sn67ydotb8ty" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Model H1</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                                     </td>
                  <td>2.988e+00 [2.965e+00, 3.011e+00]***</td>
                </tr>
                <tr>
                  <td>total_time_all_genres_within                    </td>
                  <td>-7.645e-06 [-3.820e-05, 2.291e-05] </td>
                </tr>
                <tr>
                  <td>total_time_all_genres_between                   </td>
                  <td>8.190e-06 [-1.525e-05, 3.163e-05]  </td>
                </tr>
                <tr>
                  <td>SD (Intercept pid)                              </td>
                  <td>1.400e-01 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (total_time_all_genres_within pid)           </td>
                  <td>3.134e-05 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>Cor (Intercept~total_time_all_genres_within pid)</td>
                  <td>-1.000e+00 [  NA,   NA]            </td>
                </tr>
                <tr>
                  <td>SD (Observations)                               </td>
                  <td>5.217e-01 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>Num.Obs.                                        </td>
                  <td>7411                               </td>
                </tr>
                <tr>
                  <td>R2 Marg.                                        </td>
                  <td>0.000                              </td>
                </tr>
                <tr>
                  <td>AIC                                             </td>
                  <td>11913.3                            </td>
                </tr>
                <tr>
                  <td>BIC                                             </td>
                  <td>11961.6                            </td>
                </tr>
                <tr>
                  <td>RMSE                                            </td>
                  <td>0.51                               </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>This equivalence test is a way to formally test if the within-person effect of total playtime is small enough to be considered equivalent to zero, within a predefined practical margin. If the test confirms equivalence, it strengthens the argument that the effect of playtime on the outcome is negligible or irrelevant.</p>
<section id="equivalence-test" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="equivalence-test"><span class="header-section-number">6.5.1</span> Equivalence test</h3>
<div class="cell">
<details class="code-fold">
<summary>Show code (h1_equivalence)</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypotheses</span>(h1_total_time, <span class="st">"total_time_all_genres_within = 0"</span>, <span class="at">equivalence =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">06</span>, .<span class="dv">06</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
                             Term  Estimate Std. Error      z Pr(&gt;|z|)   S
 total_time_all_genres_within = 0 -7.65e-06   1.56e-05 -0.491    0.624 0.7
     2.5 %   97.5 % p (NonSup) p (NonInf) p (Equiv)
 -3.82e-05 2.29e-05     &lt;0.001     &lt;0.001    &lt;0.001

Columns: term, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high, statistic.noninf, statistic.nonsup, p.value.noninf, p.value.nonsup, p.value.equiv </code></pre>
</div>
</div>
</section>
</section>
<section id="h2.-genre-moderates-the-relationship-between-playtime-and-wellbeing" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="h2.-genre-moderates-the-relationship-between-playtime-and-wellbeing"><span class="header-section-number">6.6</span> H2. Genre moderates the relationship between playtime and wellbeing</h2>
<p>To test the hypothesis that genre moderates the relationship between playtime and well-being, we fit a random effects model with random intercepts and slopes for each genre within and between genres. We then conduct pairwise comparisons to determine which genres have a significant effect on well-being.</p>
<section id="raw-model" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="raw-model"><span class="header-section-number">6.6.1</span> Raw model</h3>
<div class="cell">
<details class="code-fold">
<summary>Show code (h3_model)</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## raw</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fit_h2_raw <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"wemwbs ~"</span>, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(genre_vars, <span class="at">collapse =</span> <span class="st">"+"</span>), </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"+ (1 | pid)"</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  aggregated_playtime</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model using modelsummary</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">`</span><span class="at">Model H2</span><span class="st">`</span> <span class="ot">=</span> fit_h2_raw),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> scientific_fmt,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate  =</span> <span class="st">"{estimate} [{conf.low}, {conf.high}]{stars}"</span>, </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="cn">NULL</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_lw8yyar941p9kmapee91(i, j, css_id) {
        var table = document.getElementById("tinytable_lw8yyar941p9kmapee91");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_lw8yyar941p9kmapee91');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_lw8yyar941p9kmapee91(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_lw8yyar941p9kmapee91");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(0, 0, 'tinytable_css_id65k1t8va09nh8ykrvs4g') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(0, 1, 'tinytable_css_idedp12g3k4i2p5ihfvlo0') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(1, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(1, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(2, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(2, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(3, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(3, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(4, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(4, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(5, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(5, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(6, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(6, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(7, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(7, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(8, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(8, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(9, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(9, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(10, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(10, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(11, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(11, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(12, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(12, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(13, 0, 'tinytable_css_idphj40d2tlx59f2vltbgi') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(13, 1, 'tinytable_css_idik6acpb266usrcl2j65b') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(14, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(14, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(15, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(15, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(16, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(16, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(17, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(17, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(18, 0, 'tinytable_css_idr381gcdzeymin73mlu9r') })
window.addEventListener('load', function () { styleCell_lw8yyar941p9kmapee91(18, 1, 'tinytable_css_idadsvx1vgupz59wxqllo9') })
    </script>

    <style>
    .table td.tinytable_css_id65k1t8va09nh8ykrvs4g, .table th.tinytable_css_id65k1t8va09nh8ykrvs4g {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idedp12g3k4i2p5ihfvlo0, .table th.tinytable_css_idedp12g3k4i2p5ihfvlo0 {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idr381gcdzeymin73mlu9r, .table th.tinytable_css_idr381gcdzeymin73mlu9r {  text-align: left; }
    .table td.tinytable_css_idadsvx1vgupz59wxqllo9, .table th.tinytable_css_idadsvx1vgupz59wxqllo9 {  text-align: center; }
    .table td.tinytable_css_idphj40d2tlx59f2vltbgi, .table th.tinytable_css_idphj40d2tlx59f2vltbgi {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idik6acpb266usrcl2j65b, .table th.tinytable_css_idik6acpb266usrcl2j65b {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_lw8yyar941p9kmapee91" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Model H2</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                  </td>
                  <td>2.993e+00 [2.972e+00, 3.014e+00]***</td>
                </tr>
                <tr>
                  <td>time_action_adventure        </td>
                  <td>1.481e-05 [-3.135e-05, 6.098e-05]  </td>
                </tr>
                <tr>
                  <td>time_casual_puzzle           </td>
                  <td>-1.027e-04 [-2.056e-04, 2.158e-07]+</td>
                </tr>
                <tr>
                  <td>time_fighting                </td>
                  <td>3.690e-05 [-7.884e-05, 1.526e-04]  </td>
                </tr>
                <tr>
                  <td>time_indie_other             </td>
                  <td>1.466e-04 [3.475e-05, 2.585e-04]*  </td>
                </tr>
                <tr>
                  <td>time_platform_arcade         </td>
                  <td>6.475e-06 [-1.283e-05, 2.578e-05]  </td>
                </tr>
                <tr>
                  <td>time_rpg                     </td>
                  <td>-1.369e-05 [-1.738e-04, 1.465e-04] </td>
                </tr>
                <tr>
                  <td>time_simulation_sports_racing</td>
                  <td>-1.080e-05 [-1.027e-04, 8.112e-05] </td>
                </tr>
                <tr>
                  <td>time_strategy                </td>
                  <td>-4.043e-05 [-1.127e-04, 3.188e-05] </td>
                </tr>
                <tr>
                  <td>time_shooter                 </td>
                  <td>2.533e-06 [-1.621e-04, 1.672e-04]  </td>
                </tr>
                <tr>
                  <td>time_moba                    </td>
                  <td>-2.100e-05 [-1.814e-04, 1.394e-04] </td>
                </tr>
                <tr>
                  <td>SD (Intercept pid)           </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (Observations)            </td>
                  <td>5.361e-01 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>Num.Obs.                     </td>
                  <td>7411                               </td>
                </tr>
                <tr>
                  <td>R2 Marg.                     </td>
                  <td>0.002                              </td>
                </tr>
                <tr>
                  <td>AIC                          </td>
                  <td>11996.0                            </td>
                </tr>
                <tr>
                  <td>BIC                          </td>
                  <td>12085.9                            </td>
                </tr>
                <tr>
                  <td>RMSE                         </td>
                  <td>0.54                               </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="rewb-model" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="rewb-model"><span class="header-section-number">6.6.2</span> REWB model</h3>
<p>We fit a model with random slopes for each genre within and between genres. This model allows us to estimate the effect of each genre on well-being, while accounting for the nested structure of the data. We can then conduct pairwise comparisons to determine which genres have a significant effect on well-being.</p>
<p>Interpretations:</p>
<ul>
<li><code>time_*_between</code>: “Group-level effect”: People who play x + 1 units more of genre_* report higher/lower <code>wemwbs</code> scores</li>
<li><code>time_*_within</code>: “Within-person effect”: During a period when people play x + 1 units more of genre_* they report higher/lower <code>wemwbs</code> scores</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show code (h2_rewb_model)</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the variable names</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>genre_vars_demean <span class="ot">&lt;-</span> aggregated_playtime <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="fu">c</span>(<span class="st">"_within"</span>, <span class="st">"_between"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="do">## rewb</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>fit_h2_rewb <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"wemwbs ~"</span>, <span class="fu">paste</span>(genre_vars_demean, <span class="at">collapse =</span> <span class="st">"+"</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"+ (1 | pid)"</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  aggregated_playtime</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model using modelsummary</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">`</span><span class="at">Model H2</span><span class="st">`</span> <span class="ot">=</span> fit_h2_rewb),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> scientific_fmt,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate  =</span> <span class="st">"{estimate} [{conf.low}, {conf.high}]{stars}"</span>, </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="cn">NULL</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_hhvy3eo9rhghali8rwf6(i, j, css_id) {
        var table = document.getElementById("tinytable_hhvy3eo9rhghali8rwf6");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_hhvy3eo9rhghali8rwf6');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_hhvy3eo9rhghali8rwf6(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_hhvy3eo9rhghali8rwf6");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(0, 0, 'tinytable_css_idapft79ji4z1h85y9rbpu') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(0, 1, 'tinytable_css_idqg70h1bqbqiiapf6sxwk') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(1, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(1, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(2, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(2, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(3, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(3, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(4, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(4, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(5, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(5, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(6, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(6, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(7, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(7, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(8, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(8, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(9, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(9, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(10, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(10, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(11, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(11, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(12, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(12, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(13, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(13, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(14, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(14, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(15, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(15, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(16, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(16, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(17, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(17, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(18, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(18, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(19, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(19, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(20, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(20, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(21, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(21, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(22, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(22, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(23, 0, 'tinytable_css_idi20agf0ri0vebk1au170') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(23, 1, 'tinytable_css_idumk9eflbc9dfp15flc9y') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(24, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(24, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(25, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(25, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(26, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(26, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(27, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(27, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(28, 0, 'tinytable_css_idtctiabwbxdzwaiotq52k') })
window.addEventListener('load', function () { styleCell_hhvy3eo9rhghali8rwf6(28, 1, 'tinytable_css_idmvd6l5xtrdljm0blcfo3') })
    </script>

    <style>
    .table td.tinytable_css_idapft79ji4z1h85y9rbpu, .table th.tinytable_css_idapft79ji4z1h85y9rbpu {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idqg70h1bqbqiiapf6sxwk, .table th.tinytable_css_idqg70h1bqbqiiapf6sxwk {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idtctiabwbxdzwaiotq52k, .table th.tinytable_css_idtctiabwbxdzwaiotq52k {  text-align: left; }
    .table td.tinytable_css_idmvd6l5xtrdljm0blcfo3, .table th.tinytable_css_idmvd6l5xtrdljm0blcfo3 {  text-align: center; }
    .table td.tinytable_css_idi20agf0ri0vebk1au170, .table th.tinytable_css_idi20agf0ri0vebk1au170 {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idumk9eflbc9dfp15flc9y, .table th.tinytable_css_idumk9eflbc9dfp15flc9y {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_hhvy3eo9rhghali8rwf6" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Model H2</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                          </td>
                  <td>2.985e+00 [2.961e+00, 3.009e+00]***</td>
                </tr>
                <tr>
                  <td>time_action_adventure_between        </td>
                  <td>4.687e-05 [-8.379e-06, 1.021e-04]+ </td>
                </tr>
                <tr>
                  <td>time_action_adventure_within         </td>
                  <td>-5.251e-05 [-1.461e-04, 4.103e-05] </td>
                </tr>
                <tr>
                  <td>time_casual_puzzle_between           </td>
                  <td>-2.091e-04 [-4.552e-04, 3.702e-05]+</td>
                </tr>
                <tr>
                  <td>time_casual_puzzle_within            </td>
                  <td>-9.271e-05 [-2.094e-04, 2.403e-05] </td>
                </tr>
                <tr>
                  <td>time_fighting_between                </td>
                  <td>2.702e-04 [-2.026e-05, 5.607e-04]+ </td>
                </tr>
                <tr>
                  <td>time_fighting_within                 </td>
                  <td>-1.208e-05 [-1.443e-04, 1.201e-04] </td>
                </tr>
                <tr>
                  <td>time_indie_other_between             </td>
                  <td>7.627e-05 [-1.867e-04, 3.393e-04]  </td>
                </tr>
                <tr>
                  <td>time_indie_other_within              </td>
                  <td>1.544e-04 [2.476e-05, 2.839e-04]*  </td>
                </tr>
                <tr>
                  <td>time_moba_between                    </td>
                  <td>1.230e-04 [-2.792e-04, 5.252e-04]  </td>
                </tr>
                <tr>
                  <td>time_moba_within                     </td>
                  <td>-5.684e-05 [-2.369e-04, 1.233e-04] </td>
                </tr>
                <tr>
                  <td>time_platform_arcade_between         </td>
                  <td>1.951e-05 [-2.774e-05, 6.675e-05]  </td>
                </tr>
                <tr>
                  <td>time_platform_arcade_within          </td>
                  <td>4.264e-06 [-1.691e-05, 2.544e-05]  </td>
                </tr>
                <tr>
                  <td>time_rpg_between                     </td>
                  <td>-3.659e-05 [-4.173e-04, 3.441e-04] </td>
                </tr>
                <tr>
                  <td>time_rpg_within                      </td>
                  <td>-8.469e-06 [-1.855e-04, 1.686e-04] </td>
                </tr>
                <tr>
                  <td>time_shooter_between                 </td>
                  <td>-2.036e-04 [-6.102e-04, 2.030e-04] </td>
                </tr>
                <tr>
                  <td>time_shooter_within                  </td>
                  <td>4.170e-05 [-1.429e-04, 2.263e-04]  </td>
                </tr>
                <tr>
                  <td>time_simulation_sports_racing_between</td>
                  <td>1.415e-04 [-7.576e-05, 3.587e-04]  </td>
                </tr>
                <tr>
                  <td>time_simulation_sports_racing_within </td>
                  <td>-4.407e-05 [-1.495e-04, 6.130e-05] </td>
                </tr>
                <tr>
                  <td>time_strategy_between                </td>
                  <td>-1.490e-04 [-3.264e-04, 2.843e-05]+</td>
                </tr>
                <tr>
                  <td>time_strategy_within                 </td>
                  <td>-2.282e-05 [-1.083e-04, 6.266e-05] </td>
                </tr>
                <tr>
                  <td>SD (Intercept pid)                   </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (Observations)                    </td>
                  <td>5.360e-01 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>Num.Obs.                             </td>
                  <td>7411                               </td>
                </tr>
                <tr>
                  <td>R2 Marg.                             </td>
                  <td>0.003                              </td>
                </tr>
                <tr>
                  <td>AIC                                  </td>
                  <td>12166.5                            </td>
                </tr>
                <tr>
                  <td>BIC                                  </td>
                  <td>12325.4                            </td>
                </tr>
                <tr>
                  <td>RMSE                                 </td>
                  <td>0.54                               </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Not possible to model all <code>genre_*_within</code> as random. Unidentifiable model.</li>
<li><strong>Inference</strong>: can do six-billion pair-wise comparisons - fishing expedition.</li>
</ul>
</div>
</div>
<p>Ideally, the demeaned variables should be included as random slopes. However, this will likely lead to identifiability issues. Here we fit the model with random slopes, but without a correlation between slopes and intercepts.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (h3_rewb_re_slopes)</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the variable names</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>genre_within_wars <span class="ot">&lt;-</span> aggregated_playtime <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="fu">c</span>(<span class="st">"_within"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>total_time_all_genres_within) <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># fit model</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>fit_h2_rewb_re_slopes <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"wemwbs ~"</span>, <span class="fu">paste</span>(genre_vars_demean, <span class="at">collapse =</span> <span class="st">"+"</span>),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"+ (1 +"</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste</span>(genre_within_wars, <span class="at">collapse =</span> <span class="st">"+"</span>),</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"|| pid)"</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  aggregated_playtime</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_h2_rewb_re_slopes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: 
wemwbs ~ time_action_adventure_between + time_action_adventure_within +  
    time_casual_puzzle_between + time_casual_puzzle_within +  
    time_fighting_between + time_fighting_within + time_indie_other_between +  
    time_indie_other_within + time_moba_between + time_moba_within +  
    time_platform_arcade_between + time_platform_arcade_within +  
    time_rpg_between + time_rpg_within + time_shooter_between +  
    time_shooter_within + time_simulation_sports_racing_between +  
    time_simulation_sports_racing_within + time_strategy_between +  
    time_strategy_within + total_time_all_genres_between + total_time_all_genres_within +  
    ((1 | pid) + (0 + time_action_adventure_within | pid) + (0 +  
        time_casual_puzzle_within | pid) + (0 + time_fighting_within |  
        pid) + (0 + time_indie_other_within | pid) + (0 + time_moba_within |  
        pid) + (0 + time_platform_arcade_within | pid) + (0 +  
        time_rpg_within | pid) + (0 + time_shooter_within | pid) +  
        (0 + time_simulation_sports_racing_within | pid) + (0 +  
        time_strategy_within | pid))
   Data: aggregated_playtime

REML criterion at convergence: 12118.4

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-2.9640 -0.6966  0.0113  0.6287  3.1943 

Random effects:
 Groups   Name                                 Variance  Std.Dev. 
 pid      (Intercept)                          0.000e+00 0.000e+00
 pid.1    time_action_adventure_within         4.283e-08 2.070e-04
 pid.2    time_casual_puzzle_within            7.898e-11 8.887e-06
 pid.3    time_fighting_within                 0.000e+00 0.000e+00
 pid.4    time_indie_other_within              1.775e-07 4.213e-04
 pid.5    time_moba_within                     9.744e-09 9.871e-05
 pid.6    time_platform_arcade_within          0.000e+00 0.000e+00
 pid.7    time_rpg_within                      3.384e-08 1.840e-04
 pid.8    time_shooter_within                  0.000e+00 0.000e+00
 pid.9    time_simulation_sports_racing_within 2.129e-08 1.459e-04
 pid.10   time_strategy_within                 0.000e+00 0.000e+00
 Residual                                      2.845e-01 5.334e-01
Number of obs: 7411, groups:  pid, 1938

Fixed effects:
                                        Estimate Std. Error t value
(Intercept)                            2.985e+00  1.216e-02 245.380
time_action_adventure_between          4.731e-05  2.808e-05   1.685
time_action_adventure_within          -5.347e-05  4.841e-05  -1.105
time_casual_puzzle_between            -2.086e-04  1.252e-04  -1.666
time_casual_puzzle_within             -9.451e-05  5.977e-05  -1.581
time_fighting_between                  2.751e-04  1.479e-04   1.860
time_fighting_within                  -1.839e-05  6.775e-05  -0.271
time_indie_other_between               7.505e-05  1.338e-04   0.561
time_indie_other_within                1.525e-04  6.940e-05   2.197
time_moba_between                      1.294e-04  2.046e-04   0.633
time_moba_within                      -5.826e-05  9.242e-05  -0.630
time_platform_arcade_between           1.952e-05  2.399e-05   0.814
time_platform_arcade_within            4.371e-06  1.076e-05   0.406
time_rpg_between                      -3.760e-05  1.943e-04  -0.194
time_rpg_within                       -1.165e-05  9.145e-05  -0.127
time_shooter_between                  -2.063e-04  2.069e-04  -0.997
time_shooter_within                    3.969e-05  9.450e-05   0.420
time_simulation_sports_racing_between  1.375e-04  1.118e-04   1.229
time_simulation_sports_racing_within  -4.248e-05  5.460e-05  -0.778
time_strategy_between                 -1.486e-04  9.024e-05  -1.647
time_strategy_within                  -2.378e-05  4.375e-05  -0.544
fit warnings:
fixed-effect model matrix is rank deficient so dropping 2 columns / coefficients
optimizer (nloptwrap) convergence code: 0 (OK)
boundary (singular) fit: see help('isSingular')</code></pre>
</div>
<details class="code-fold">
<summary>Show code (h3_rewb_re_slopes)</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model using modelsummary</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">`</span><span class="at">Model H2</span><span class="st">`</span> <span class="ot">=</span> fit_h2_rewb_re_slopes),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> scientific_fmt,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate  =</span> <span class="st">"{estimate} [{conf.low}, {conf.high}]{stars}"</span>, </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">statistic =</span> <span class="cn">NULL</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_84eizvdv448ugrwbjyck(i, j, css_id) {
        var table = document.getElementById("tinytable_84eizvdv448ugrwbjyck");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_84eizvdv448ugrwbjyck');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_84eizvdv448ugrwbjyck(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_84eizvdv448ugrwbjyck");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(0, 0, 'tinytable_css_idfoa64wnobs5mqoi4kmj9') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(0, 1, 'tinytable_css_idozs25qvxnmzaoy74mzq8') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(1, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(1, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(2, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(2, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(3, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(3, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(4, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(4, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(5, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(5, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(6, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(6, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(7, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(7, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(8, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(8, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(9, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(9, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(10, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(10, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(11, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(11, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(12, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(12, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(13, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(13, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(14, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(14, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(15, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(15, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(16, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(16, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(17, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(17, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(18, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(18, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(19, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(19, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(20, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(20, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(21, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(21, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(22, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(22, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(23, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(23, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(24, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(24, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(25, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(25, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(26, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(26, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(27, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(27, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(28, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(28, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(29, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(29, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(30, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(30, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(31, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(31, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(32, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(32, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(33, 0, 'tinytable_css_idk3lfmqabf22gqv8yvm7z') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(33, 1, 'tinytable_css_idsk35hxg3lh7yapdobwn9') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(34, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(34, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(35, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(35, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(36, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(36, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(37, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(37, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(38, 0, 'tinytable_css_id38k4m4ug23vlajyhq6h0') })
window.addEventListener('load', function () { styleCell_84eizvdv448ugrwbjyck(38, 1, 'tinytable_css_idi6r6949n6fh87m2jg6o6') })
    </script>

    <style>
    .table td.tinytable_css_idfoa64wnobs5mqoi4kmj9, .table th.tinytable_css_idfoa64wnobs5mqoi4kmj9 {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idozs25qvxnmzaoy74mzq8, .table th.tinytable_css_idozs25qvxnmzaoy74mzq8 {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id38k4m4ug23vlajyhq6h0, .table th.tinytable_css_id38k4m4ug23vlajyhq6h0 {  text-align: left; }
    .table td.tinytable_css_idi6r6949n6fh87m2jg6o6, .table th.tinytable_css_idi6r6949n6fh87m2jg6o6 {  text-align: center; }
    .table td.tinytable_css_idk3lfmqabf22gqv8yvm7z, .table th.tinytable_css_idk3lfmqabf22gqv8yvm7z {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idsk35hxg3lh7yapdobwn9, .table th.tinytable_css_idsk35hxg3lh7yapdobwn9 {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_84eizvdv448ugrwbjyck" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Model H2</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)                                  </td>
                  <td>2.985e+00 [2.961e+00, 3.008e+00]***</td>
                </tr>
                <tr>
                  <td>time_action_adventure_between                </td>
                  <td>4.731e-05 [-7.744e-06, 1.024e-04]+ </td>
                </tr>
                <tr>
                  <td>time_action_adventure_within                 </td>
                  <td>-5.347e-05 [-1.484e-04, 4.143e-05] </td>
                </tr>
                <tr>
                  <td>time_casual_puzzle_between                   </td>
                  <td>-2.086e-04 [-4.540e-04, 3.688e-05]+</td>
                </tr>
                <tr>
                  <td>time_casual_puzzle_within                    </td>
                  <td>-9.450e-05 [-2.117e-04, 2.267e-05] </td>
                </tr>
                <tr>
                  <td>time_fighting_between                        </td>
                  <td>2.751e-04 [-1.484e-05, 5.650e-04]+ </td>
                </tr>
                <tr>
                  <td>time_fighting_within                         </td>
                  <td>-1.839e-05 [-1.512e-04, 1.144e-04] </td>
                </tr>
                <tr>
                  <td>time_indie_other_between                     </td>
                  <td>7.505e-05 [-1.873e-04, 3.374e-04]  </td>
                </tr>
                <tr>
                  <td>time_indie_other_within                      </td>
                  <td>1.525e-04 [1.642e-05, 2.885e-04]*  </td>
                </tr>
                <tr>
                  <td>time_moba_between                            </td>
                  <td>1.294e-04 [-2.716e-04, 5.304e-04]  </td>
                </tr>
                <tr>
                  <td>time_moba_within                             </td>
                  <td>-5.826e-05 [-2.394e-04, 1.229e-04] </td>
                </tr>
                <tr>
                  <td>time_platform_arcade_between                 </td>
                  <td>1.952e-05 [-2.749e-05, 6.654e-05]  </td>
                </tr>
                <tr>
                  <td>time_platform_arcade_within                  </td>
                  <td>4.371e-06 [-1.672e-05, 2.546e-05]  </td>
                </tr>
                <tr>
                  <td>time_rpg_between                             </td>
                  <td>-3.760e-05 [-4.185e-04, 3.433e-04] </td>
                </tr>
                <tr>
                  <td>time_rpg_within                              </td>
                  <td>-1.165e-05 [-1.909e-04, 1.676e-04] </td>
                </tr>
                <tr>
                  <td>time_shooter_between                         </td>
                  <td>-2.063e-04 [-6.120e-04, 1.993e-04] </td>
                </tr>
                <tr>
                  <td>time_shooter_within                          </td>
                  <td>3.969e-05 [-1.456e-04, 2.249e-04]  </td>
                </tr>
                <tr>
                  <td>time_simulation_sports_racing_between        </td>
                  <td>1.375e-04 [-8.175e-05, 3.567e-04]  </td>
                </tr>
                <tr>
                  <td>time_simulation_sports_racing_within         </td>
                  <td>-4.248e-05 [-1.495e-04, 6.454e-05] </td>
                </tr>
                <tr>
                  <td>time_strategy_between                        </td>
                  <td>-1.486e-04 [-3.255e-04, 2.827e-05]+</td>
                </tr>
                <tr>
                  <td>time_strategy_within                         </td>
                  <td>-2.378e-05 [-1.095e-04, 6.198e-05] </td>
                </tr>
                <tr>
                  <td>SD (Intercept pid)                           </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_action_adventure_within pid)        </td>
                  <td>2.070e-04 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_casual_puzzle_within pid)           </td>
                  <td>8.887e-06 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_fighting_within pid)                </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_indie_other_within pid)             </td>
                  <td>4.213e-04 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_moba_within pid)                    </td>
                  <td>9.871e-05 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_platform_arcade_within pid)         </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_rpg_within pid)                     </td>
                  <td>1.840e-04 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_shooter_within pid)                 </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_simulation_sports_racing_within pid)</td>
                  <td>1.459e-04 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (time_strategy_within pid)                </td>
                  <td>0.000e+00 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>SD (Observations)                            </td>
                  <td>5.334e-01 [  NA,   NA]             </td>
                </tr>
                <tr>
                  <td>Num.Obs.                                     </td>
                  <td>7411                               </td>
                </tr>
                <tr>
                  <td>R2 Marg.                                     </td>
                  <td>0.003                              </td>
                </tr>
                <tr>
                  <td>AIC                                          </td>
                  <td>12184.4                            </td>
                </tr>
                <tr>
                  <td>BIC                                          </td>
                  <td>12412.5                            </td>
                </tr>
                <tr>
                  <td>RMSE                                         </td>
                  <td>0.53                               </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="plot-all-estimates" class="level3" data-number="6.6.3">
<h3 data-number="6.6.3" class="anchored" data-anchor-id="plot-all-estimates"><span class="header-section-number">6.6.3</span> Plot all estimates</h3>
<p>Here we plot the estimates for the genre effects on well-being, along with 95% confidence intervals.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (plot estimates)</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>ests_fit_h2_rewb <span class="ot">&lt;-</span> <span class="fu">avg_comparisons</span>(fit_h2_rewb) <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>ests_fit_h2_rewb <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(estimate, term)) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_linerange</span>(</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="4_genres_files/figure-html/plot-estimates-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="joint-hypotheses-test" class="level3" data-number="6.6.4">
<h3 data-number="6.6.4" class="anchored" data-anchor-id="joint-hypotheses-test"><span class="header-section-number">6.6.4</span> Joint hypotheses test</h3>
<p>Jointly test the null that all genre effects are zero vs the alternative that at least one is non-zero. Testing between and within variables separately?</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (joint hypotheses)</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypotheses</span>(fit_h2_rewb, <span class="at">joint =</span> <span class="st">"_between"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Joint hypothesis test:
  = 0
 
    F Pr(&gt;|F|) Df 1 Df 2
 1.36    0.194   10 7390

Columns: statistic, p.value, df1, df2 </code></pre>
</div>
<details class="code-fold">
<summary>Show code (joint hypotheses)</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hypotheses</span>(fit_h2_rewb, <span class="at">joint =</span> <span class="st">"_within"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Joint hypothesis test:
  = 0
 
    F Pr(&gt;|F|) Df 1 Df 2
 1.06    0.388   10 7390

Columns: statistic, p.value, df1, df2 </code></pre>
</div>
</div>
</section>
<section id="pairwise-tests" class="level3" data-number="6.6.5">
<h3 data-number="6.6.5" class="anchored" data-anchor-id="pairwise-tests"><span class="header-section-number">6.6.5</span> Pairwise tests</h3>
<p>Pair-wise comparison of all *_between coefficients. (The table is only showing the first 10). We will run the same code for within-person genre effects.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (pairwise tests)</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ests_pairwise <span class="ot">&lt;-</span> <span class="fu">hypotheses</span>(fit_h2_rewb, <span class="st">"pairwise"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>between_vars <span class="ot">&lt;-</span> aggregated_playtime <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="fu">c</span>(<span class="st">"_between"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>()</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># pick all *_between pairwise comparisons</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>tests <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">a =</span> between_vars, <span class="at">b =</span> between_vars) <span class="sc">|&gt;</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(a <span class="sc">!=</span> b) <span class="sc">|&gt;</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">c =</span> <span class="fu">paste</span>(a, <span class="st">"-"</span>, b))</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># show 10 of the pairwise tests</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>ests_pairwise <span class="sc">|&gt;</span> </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">%in%</span> tests<span class="sc">$</span>c) <span class="sc">|&gt;</span> </span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 48%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">s.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">time_action_adventure_between - time_casual_puzzle_between</td>
<td style="text-align: right;">0.0002560</td>
<td style="text-align: right;">0.0001341</td>
<td style="text-align: right;">1.9087633</td>
<td style="text-align: right;">0.0562926</td>
<td style="text-align: right;">4.1509099</td>
<td style="text-align: right;">-0.0000069</td>
<td style="text-align: right;">0.0005188</td>
</tr>
<tr class="even">
<td style="text-align: left;">time_action_adventure_between - time_fighting_between</td>
<td style="text-align: right;">-0.0002234</td>
<td style="text-align: right;">0.0001484</td>
<td style="text-align: right;">-1.5049708</td>
<td style="text-align: right;">0.1323316</td>
<td style="text-align: right;">2.9177705</td>
<td style="text-align: right;">-0.0005143</td>
<td style="text-align: right;">0.0000675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time_action_adventure_between - time_indie_other_between</td>
<td style="text-align: right;">-0.0000294</td>
<td style="text-align: right;">0.0001385</td>
<td style="text-align: right;">-0.2122773</td>
<td style="text-align: right;">0.8318907</td>
<td style="text-align: right;">0.2655341</td>
<td style="text-align: right;">-0.0003009</td>
<td style="text-align: right;">0.0002421</td>
</tr>
<tr class="even">
<td style="text-align: left;">time_action_adventure_between - time_moba_between</td>
<td style="text-align: right;">-0.0000761</td>
<td style="text-align: right;">0.0002063</td>
<td style="text-align: right;">-0.3689095</td>
<td style="text-align: right;">0.7121952</td>
<td style="text-align: right;">0.4896554</td>
<td style="text-align: right;">-0.0004804</td>
<td style="text-align: right;">0.0003282</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time_action_adventure_between - time_platform_arcade_between</td>
<td style="text-align: right;">0.0000274</td>
<td style="text-align: right;">0.0000363</td>
<td style="text-align: right;">0.7541595</td>
<td style="text-align: right;">0.4507535</td>
<td style="text-align: right;">1.1495895</td>
<td style="text-align: right;">-0.0000437</td>
<td style="text-align: right;">0.0000985</td>
</tr>
<tr class="even">
<td style="text-align: left;">time_action_adventure_between - time_rpg_between</td>
<td style="text-align: right;">0.0000835</td>
<td style="text-align: right;">0.0001955</td>
<td style="text-align: right;">0.4269197</td>
<td style="text-align: right;">0.6694378</td>
<td style="text-align: right;">0.5789781</td>
<td style="text-align: right;">-0.0002997</td>
<td style="text-align: right;">0.0004666</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time_action_adventure_between - time_shooter_between</td>
<td style="text-align: right;">0.0002504</td>
<td style="text-align: right;">0.0002080</td>
<td style="text-align: right;">1.2042389</td>
<td style="text-align: right;">0.2284973</td>
<td style="text-align: right;">2.1297512</td>
<td style="text-align: right;">-0.0001572</td>
<td style="text-align: right;">0.0006581</td>
</tr>
<tr class="even">
<td style="text-align: left;">time_action_adventure_between - time_simulation_sports_racing_between</td>
<td style="text-align: right;">-0.0000946</td>
<td style="text-align: right;">0.0001121</td>
<td style="text-align: right;">-0.8438383</td>
<td style="text-align: right;">0.3987598</td>
<td style="text-align: right;">1.3264082</td>
<td style="text-align: right;">-0.0003144</td>
<td style="text-align: right;">0.0001251</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time_action_adventure_between - time_strategy_between</td>
<td style="text-align: right;">0.0001958</td>
<td style="text-align: right;">0.0000916</td>
<td style="text-align: right;">2.1390502</td>
<td style="text-align: right;">0.0324316</td>
<td style="text-align: right;">4.9464559</td>
<td style="text-align: right;">0.0000164</td>
<td style="text-align: right;">0.0003753</td>
</tr>
<tr class="even">
<td style="text-align: left;">time_casual_puzzle_between - time_fighting_between</td>
<td style="text-align: right;">-0.0004793</td>
<td style="text-align: right;">0.0002042</td>
<td style="text-align: right;">-2.3479532</td>
<td style="text-align: right;">0.0188769</td>
<td style="text-align: right;">5.7272347</td>
<td style="text-align: right;">-0.0008795</td>
<td style="text-align: right;">-0.0000792</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="other-tests" class="level3" data-number="6.6.6">
<h3 data-number="6.6.6" class="anchored" data-anchor-id="other-tests"><span class="header-section-number">6.6.6</span> Other tests</h3>
<p>We can also test if the coefficients are greater than a specific value, for example by comparing it to the point estimate from model H1 (effect of total playtime on WB). Although, this ignores the uncertainty in the reference value.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code (hypotheses)</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 0.4 is just a placeholder</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hypotheses</span>(fit_h2_rewb, <span class="st">"b* = 0.4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term Estimate Std. Error      z Pr(&gt;|z|)   S  2.5 % 97.5 %
 b1 = 0.4      2.58   1.22e-02    212   &lt;0.001 Inf  2.561  2.609
 b2 = 0.4     -0.40   2.82e-05 -14191   &lt;0.001 Inf -0.400 -0.400
 b3 = 0.4     -0.40   4.77e-05  -8383   &lt;0.001 Inf -0.400 -0.400
 b4 = 0.4     -0.40   1.26e-04  -3188   &lt;0.001 Inf -0.400 -0.400
 b5 = 0.4     -0.40   5.95e-05  -6719   &lt;0.001 Inf -0.400 -0.400
 b6 = 0.4     -0.40   1.48e-04  -2697   &lt;0.001 Inf -0.400 -0.399
 b7 = 0.4     -0.40   6.74e-05  -5931   &lt;0.001 Inf -0.400 -0.400
 b8 = 0.4     -0.40   1.34e-04  -2981   &lt;0.001 Inf -0.400 -0.400
 b9 = 0.4     -0.40   6.61e-05  -6048   &lt;0.001 Inf -0.400 -0.400
 b10 = 0.4    -0.40   2.05e-04  -1949   &lt;0.001 Inf -0.400 -0.399
 b11 = 0.4    -0.40   9.19e-05  -4354   &lt;0.001 Inf -0.400 -0.400
 b12 = 0.4    -0.40   2.41e-05 -16597   &lt;0.001 Inf -0.400 -0.400
 b13 = 0.4    -0.40   1.08e-05 -37032   &lt;0.001 Inf -0.400 -0.400
 b14 = 0.4    -0.40   1.94e-04  -2060   &lt;0.001 Inf -0.400 -0.400
 b15 = 0.4    -0.40   9.03e-05  -4429   &lt;0.001 Inf -0.400 -0.400
 b16 = 0.4    -0.40   2.07e-04  -1930   &lt;0.001 Inf -0.401 -0.400
 b17 = 0.4    -0.40   9.42e-05  -4248   &lt;0.001 Inf -0.400 -0.400
 b18 = 0.4    -0.40   1.11e-04  -3608   &lt;0.001 Inf -0.400 -0.400
 b19 = 0.4    -0.40   5.38e-05  -7442   &lt;0.001 Inf -0.400 -0.400
 b20 = 0.4    -0.40   9.05e-05  -4421   &lt;0.001 Inf -0.400 -0.400
 b21 = 0.4    -0.40   4.36e-05  -9173   &lt;0.001 Inf -0.400 -0.400

Columns: term, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high </code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./3_sleep.html" class="pagination-link  aria-label=" &lt;span="" 2:="" gaming="" and="" sleep&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Study 2: Gaming and Sleep</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>