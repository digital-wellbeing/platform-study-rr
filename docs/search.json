[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Psychological Wellbeing, Sleep, and Video Gaming: Analyses of Comprehensive Digital Traces",
    "section": "",
    "text": "This website describes the data simulation, preprocessing, and analysis code for our Stage 1 Registered Report.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Welcome</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html",
    "href": "scripts/1_preprocess.html",
    "title": "2  Preprocess Data",
    "section": "",
    "text": "2.1 Libraries\nShow the code (libraries)\nif (!require(\"pacman\")) install.packages(\"pacman\")\nlibrary(pacman)\n\np_load(tidyverse, mctq, data.table, pwr)\n\nset.seed(8675309)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#load-data",
    "href": "scripts/1_preprocess.html#load-data",
    "title": "2  Preprocess Data",
    "section": "2.2 Load data",
    "text": "2.2 Load data\n\n\nShow the code (load data)\nsynDiary &lt;- read_csv(\"data/data-synthetic-raw/synDiary.csv.gz\")\n\n# for unknown reasons, read_csv imports some columns incorrectly, so we use data.table::fread\nsynPanel &lt;- fread(\"data/data-synthetic-raw/synPanel.csv.gz\") \nsynIntake &lt;- read_csv(\"data/data-synthetic-raw/synIntake.csv.gz\")\n\nsynNintendo &lt;- read_csv(\"data/data-synthetic-raw/synNintendo.csv.gz\") |&gt;\n  mutate(sessionEnd = sessionStart + minutes(round(duration)), .after = sessionStart)\nsynXbox &lt;- read_csv(\"data/data-synthetic-raw/synXbox.csv.gz\") |&gt;\n  mutate(sessionEnd = sessionStart + minutes(round(duration)), .after = sessionStart)\nsynSteam &lt;- read_csv(\"data/data-synthetic-raw/synSteam.csv.gz\")\nsyniOS &lt;- read_csv(\"data/data-synthetic-raw/syniOS.csv.gz\")\nsynAndroid &lt;- read_csv(\"data/data-synthetic-raw/synAndroid.csv.gz\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#clean-intake",
    "href": "scripts/1_preprocess.html#clean-intake",
    "title": "2  Preprocess Data",
    "section": "2.3 Clean intake",
    "text": "2.3 Clean intake\nHere we want to: - define a socio-economic status (SES) index - calculate total height in inches - calculate BMI using the formula (weight / (total_inches^2)) * 703\nThese will be used as covariates primarily in Study 3.\n\n\nShow the code (clean intake)\nsynIntakeClean &lt;- synIntake |&gt;\n  # define socio-economic status (SES) index\n  mutate(\n    # Assigning scores to employment categories\n    empScore = case_when(\n      employment == \"Full-Time\" ~ 5,\n      employment == \"Part-Time\" ~ 4,\n      employment == \"Due to start a new job within the next month\" ~ 3,\n      employment == \"Not in paid work (e.g. homemaker', 'retired or disabled)\" ~ 2,\n      employment == \"Unemployed (and job seeking)\" ~ 1,\n      employment == \"Other\" ~ NA_real_ ,  # Adjust based on context if necessary\n      TRUE ~ NA_real_  # Handle any other cases\n    ),\n    \n    # Assigning scores to education levels\n    eduScore = case_when(\n      eduLevel == \"Graduate or professional degree (MA, MS, MBA, PhD, etc)\" ~ 7,\n      eduLevel == \"University Bachelors Degree\" ~ 6,\n      eduLevel == \"Some University but no degree\" ~ 5,\n      eduLevel == \"Vocational or Similar\" ~ 4,\n      eduLevel == \"Completed Secondary School\" ~ 3,\n      eduLevel == \"Some Secondary\" ~ 2,\n      eduLevel == \"Completed Primary School\" ~ 1,\n      eduLevel == \"Some Primary\" ~ 1,\n      eduLevel == \"Prefer not to say\" ~ NA_real_,  # Treat as missing\n      TRUE ~ NA_real_  # Handle any other cases\n    ),\n    \n    # Combining the scores into a SES index\n    SES_index = empScore + eduScore\n  ) |&gt; \n  mutate(\n    # Calculate total height in inches\n    total_inches = `height#1_1_1` * 12 + `height#1_1_2`,\n    \n    # Calculate BMI using the formula\n    bmi = (weight / (total_inches^2)) * 703,\n\n    age_scaled = as.numeric(scale(age, center = TRUE, scale = TRUE)),\n    bmi_scaled = as.numeric(scale(bmi, center = TRUE, scale = TRUE)),\n    SES_index_scaled = as.numeric(scale(SES_index, center = TRUE, scale = TRUE))\n  )",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#clean-diary",
    "href": "scripts/1_preprocess.html#clean-diary",
    "title": "2  Preprocess Data",
    "section": "2.4 Clean diary",
    "text": "2.4 Clean diary\nHere we want to:\n\nrecode the diary data to numeric values\ncalculate mean scores of relevant variables\ncalculate within- and between-person centered variables\nrecode the displaced activity data into categories (randomly assigned, for now)\ncalculate some variables based on the telemetry\n\n\n\nShow the code (clean diary)\nsynDiaryClean &lt;- synDiary |&gt;\n  mutate(\n    across(starts_with(c(\"bpnsfs\", \"bangs\")), ~ case_when(\n      . %in% c(\"1 \\nStrongly Disagree\", \"1 - Not at all true\", \"1 - very strongly disagree\") ~ 1,\n      . %in% c(\"2\", \"2 - strongly disagree\") ~ 2,\n      . %in% c(\"3\", \"3 - disagree\") ~ 3,\n      . %in% c(\"4Neither Agree nor Disagree\", \"4\", \"4 - neither disagree nor agree\") ~ 4,\n      . %in% c(\"5\", \"5 - Completely true\", \"5 - agree\") ~ 5,\n      . %in% c(\"6\") ~ 6,\n      . %in% c(\"7 Strongly agree\") ~ 7,\n      TRUE ~ NA_integer_\n    ))\n  ) %&gt;%\n  # calculate mean scores of relevant variables (there is no missing data within waves)\n  mutate(\n    globalNS = rowMeans(select(., bpnsfs_1:bpnsfs_3), na.rm = TRUE),\n    globalNF = rowMeans(select(., bpnsfs_4:bpnsfs_6), na.rm = TRUE),\n    gameNS = rowMeans(select(., bangs_1:bangs_3), na.rm = TRUE),\n    gameNF = rowMeans(select(., bangs_4:bangs_6), na.rm = TRUE)\n  ) |&gt;\n  # Calculate within- and between-person centered variables\n  group_by(pid) %&gt;%\n  mutate(across(\n    c(globalNS, globalNF, gameNS, gameNF),\n    list(\n      cw = ~ . - mean(., na.rm = TRUE),\n      cb = ~ mean(., na.rm = TRUE)\n    )\n  )) %&gt;%\n  ungroup() %&gt;%\n  mutate(across(\n    ends_with(\"cb\"),\n    ~ . - mean(., na.rm = TRUE)\n  )) |&gt;\n  # to understand displaced activities, we will manually code the true\n  # participant activity data into categories. We pre-define 5 problematic\n  # displacement categories (work/school, social engagements, sleep, eating,\n  # fitness, caretaking) and one catch-all category (other), which may later be\n  # broken down into subcategories.\n  mutate(\n    displacedActivityCategory = ifelse(!is.na(displacedActivity),\n      sample(c(\"work/school\", \"social engagements\", \"sleep\", \"eating\", \"fitness\", \"caretaking\", \"other\"),\n        n(),\n        prob = c(.05, .05, .05, .05, .05, .05, .75),\n        replace = TRUE\n      ),\n      NA_character_\n    ),\n    displacedCoreDomain = ifelse(displacedActivityCategory %in% c(\n      \"work/school\", \"social engagements\",\n      \"sleep\", \"eating\", \"fitness\", \"caretaking\", \"other\"\n    ),\n    TRUE,\n    FALSE\n    ),\n    .after = displacedActivity\n  )",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#clean-panel",
    "href": "scripts/1_preprocess.html#clean-panel",
    "title": "2  Preprocess Data",
    "section": "2.5 Clean panel",
    "text": "2.5 Clean panel\nHere we want to: - recode the panel data to numeric values - calculate mean scores of relevant variables - calculate within- and between-person centered variables\n\n2.5.1 Chronotype\nChronotype or sleep-corrected local time of mid-sleep on work-free days msf_sc() allows you to compute the chronotype, or corrected local time of mid-sleep on work-free days. It takes five arguments: msf (local time of mid-sleep on work-free days), sd_w (sleep duration on workdays), sd_f (sleep duration on work-free days), sd_week(average weekly sleep duration), and alarm_f (a logical object indicating if the respondent uses an alarm clock to wake up on work-free days).\nIf sd_f is less or equal than sd_w, the output must be msf. Else, it must return msf minus the difference between sd_f and sd_week divided by 2. msf_sc can only be computed if alarm_f is equal to FALSE (the function will return NA when alarm_f == TRUE).\nmsf_sc applies a correction to msf, removing an estimation of the effect from accumulated sleep debt on workdays that usually is compensated on work-free days. See ?msf_sc to learn more.\n\n\nShow the code (clean panel)\nsynPanelClean &lt;- synPanel |&gt;\n  mutate(\n    across(starts_with(c(\"bangs\", \"wemwbs\", \"promis\", \"trojan\", \"BFI\", \"eps\")), ~ case_when(\n      . %in% c(\"Greatly interfered\") ~ -3,\n      . %in% c(\"Moderately interfered\") ~ -2,\n      . %in% c(\"Slightly interfered\") ~ -1,\n      . %in% c(\"No impact\",\"No chance of dozing\") ~ 0,\n      . %in% c(\n        \"1 \\nStrongly Disagree\", \"1 - Not at all true\", \"1 - None of the time\", \"Never\", \"1 - Strongly disagree\",\n        \"Disagree strongly\", \"Slightly supported\", \"Slight chance of dozing\"\n      ) ~ 1,\n      . %in% c(\"2\", \"2 - Rarely\", \"Rarely\", \"Disagree a little\", \"Moderately supported\", \"Moderate chance of dozing\") ~ 2,\n      . %in% c(\"3\", \"3 - Some of the time\", \"Sometimes\", \"Neutral; no opinion\", \"Greatly supported\", \"High chance of dozing\") ~ 3,\n      . %in% c(\"4Neither Agree nor Disagree\", \"4\", \"4 - Often\", \"Often\", \"Agree a little\") ~ 4,\n      . %in% c(\"5\", \"5 - Completely true\", \"5 - All of the time\", \"Always\", \"5 - Strongly agree\", \"Agree strongly\") ~ 5,\n      . %in% c(\"6\") ~ 6,\n      . %in% c(\"7 Strongly agree\") ~ 7,\n      TRUE ~ NA_integer_\n    ))\n  ) %&gt;%\n  # calculate mean/sum scores of relevant variables (there is no missing data within waves)\n  mutate(\n    wemwbs = rowMeans(select(., wemwbs_1:wemwbs_7), na.rm = TRUE),\n    promis = rowMeans(select(., promis_1:promis_8), na.rm = TRUE),\n    gameNS = rowMeans(select(., bangs_1:bangs_3, bangs_7:bangs_9, bangs_13:bangs_15), na.rm = TRUE),\n    gameNF = rowMeans(select(., bangs_4:bangs_6, bangs_10:bangs_12, bangs_16:bangs_18), na.rm = TRUE),\n    epsTotal = rowSums(select(., eps_1_1:eps_1_8), na.rm = TRUE),\n  ) |&gt;\n  # Calculate within- and between-person centered variables\n  group_by(pid) %&gt;%\n  mutate(across(\n    c(wemwbs, promis, gameNS, gameNF),\n    list(\n      cw = ~ . - mean(., na.rm = TRUE),\n      cb = ~ mean(., na.rm = TRUE)\n    )\n  )) %&gt;%\n  ungroup() %&gt;%\n  mutate(across(\n    ends_with(\"cb\"),\n    ~ . - mean(., na.rm = TRUE)\n  )) |&gt; \n\n  # calculate amount of sleep\n  mutate(\n    psqi_4_1_1_1_hours = as.numeric(`psqi_4#1_1_1`), # Convert hours to numeric\n    psqi_4_1_1_2_hours = as.numeric(`psqi_4#1_1_2`) / 60, # Convert minutes to numeric hours\n    total_hours_sleep = psqi_4_1_1_1_hours + psqi_4_1_1_2_hours, # Compute total hours of sleep\n    .keep = \"unused\"\n  ) |&gt; \n\n  # ~~~~~~~~~~~~~~~~~~~~~~~~~\n  # calculate chronotype ####\n  # ~~~~~~~~~~~~~~~~~~~~~~~~\n  \n  # rename mctq_1 to work  and turn it into a logical variable where 1 is 1 and 2 is 0, other is NA\n   mutate(work = case_when(\n    mctq_1 == 1 ~ 1,\n    mctq_1 == 2 ~ 0,\n    TRUE ~ NA_real_\n   )) |&gt; \n   rename(\n    wd = mctq_2_1, \n    bt_w = mctq_3_1, \n    sprep_w = mctq_3_3, \n    slat_w = mctq_3_4, \n    se_w = mctq_3_5, \n    si_w = mctq_3_6,\n    bt_f = mctq_6_1, \n    sprep_f = mctq_6_3, \n    slat_f = mctq_6_4, \n    se_f = mctq_6_5, \n    si_f = mctq_6_6,\n    reasons_why_f = mctq_8_1\n  ) |&gt; \n  mutate(\n    alarm_w = case_when(\n      mctq_4_1 == \"Yes\" ~ 1,\n      mctq_4_1 == \"No\" ~ 0,\n      TRUE ~ NA_real_),\n    wake_before_w = case_when(\n      mctq_5_1 == \"Yes\" ~ 1,\n      mctq_5_1 == \"No\" ~ 0,\n      TRUE ~ NA_real_\n    ),\n    alarm_f = case_when(\n      mctq_7_1 == \"Yes\" ~ 1,\n      mctq_7_1 == \"No\" ~ 0,\n      TRUE ~ NA_real_\n    ),\n    reasons_f = case_when(\n      mctq_7_2 == \"Yes\" ~ 1,\n      mctq_7_2 == \"No\" ~ 0,\n      TRUE ~ NA_real_\n    ),\n  ) |&gt;\n  mutate(\n    across(\"wd\", as.integer),\n    across(matches(\"^work$|^alarm_|^wake_|^reasons_f$\"), as.logical),\n    across(matches(\"^bt_|^sprep_|^se_\"), hms::parse_hm),\n    across(matches(\"^slat_|^si_\"), ~ dminutes(as.numeric(.x)))\n  ) |&gt; \n  # Calculate sleep onset\n  mutate(\n    so_w = mctq::so(sprep_w, slat_w),\n    so_f = mctq::so(sprep_f, slat_f)\n  ) |&gt;\n  # Calculate sleep duration\n  mutate(\n    sd_w = mctq::sdu(so_w, se_w),\n    sd_f = mctq::sdu(so_f, se_f)\n  ) |&gt;\n  # Calculate midsleep time\n  mutate(\n    msw = mctq::msl(so_w, sd_w),\n    msf = mctq::msl(so_f, sd_f)\n  ) |&gt;\n  # Calculate weekly sleep duration\n  mutate(\n    sd_week = mctq::sd_week(sd_w, sd_f, wd)\n  ) |&gt; \n  # Calculate chronotype\n  mutate(\n    msf_sc = mctq::msf_sc(msf, sd_w, sd_f, sd_week, alarm_f),\n    msf_sc_numeric = as.numeric(msf_sc) / 3600\n  )",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#process-telemetry",
    "href": "scripts/1_preprocess.html#process-telemetry",
    "title": "2  Preprocess Data",
    "section": "2.6 Process telemetry",
    "text": "2.6 Process telemetry\nHere we: - join the survey data to each telemetry table - filter for only the sessions/rows that happened immediately after the survey was completed - join these back together with a binary indicator of whether at least one session occurred\n\n\nShow the code (process telemetry)\n# TODO: make sure that sessions happening as late as 6 hours later are still included, even if this isn't on the same day\n\n# in the below, we join the survey data to each telemetry table,\n# and filter for only the sessions/rows that happened immediately after the survey was completed.\n# after, we join these back together with a binary indicator of whether at least one session occurred\n\nnintendoOverlaps &lt;- synDiaryClean %&gt;%\n  left_join(synNintendo, by = c(\"pid\", \"day\", \"date\")) |&gt;\n  filter(\n    sessionEnd &gt;= surveyCompletionTime | # Session ended after the survey time\n      sessionStart &lt;= surveyCompletionTime + days(1) # Session started before the end of the time window\n  ) |&gt;\n  group_by(pid, day, date) |&gt;\n  summarize(playedLaterNintendo = TRUE, .groups = \"drop\")\n\nxboxOverlaps &lt;- synDiaryClean %&gt;%\n  left_join(synXbox, by = c(\"pid\", \"day\", \"date\")) |&gt;\n  filter(\n    sessionEnd &gt;= surveyCompletionTime | # Session ended after the survey time\n      sessionStart &lt;= surveyCompletionTime + days(1) # Session started before the end of the time window\n  ) |&gt;\n  group_by(pid, day, date) |&gt;\n  summarize(playedLaterXbox = TRUE, .groups = \"drop\")\n\nsteamOverlaps &lt;- synDiaryClean %&gt;%\n  left_join(synSteam, by = c(\"pid\", \"day\", \"date\")) |&gt;\n  filter(\n    sessionStart &lt;= surveyCompletionTime + days(1) # Session started before the end of the time window\n  ) |&gt;\n  group_by(pid, day, date) |&gt;\n  summarize(playedLaterSteam = TRUE, .groups = \"drop\")\n\n\n# Step 3: Determine if any Nintendo sessions occurred in the time window for each row in df\nsynDiaryClean &lt;- synDiaryClean |&gt;\n  left_join(\n    nintendoOverlaps,\n    by = c(\"pid\", \"day\", \"date\")\n  ) |&gt;\n  left_join(\n    xboxOverlaps,\n    by = c(\"pid\", \"day\", \"date\")\n  ) |&gt;\n  left_join(\n    steamOverlaps,\n    by = c(\"pid\", \"day\", \"date\")\n  ) |&gt;\n  mutate(\n    playedLaterNintendo = if_else(is.na(playedLaterNintendo), FALSE, playedLaterNintendo),\n    playedLaterXbox = if_else(is.na(playedLaterXbox), FALSE, playedLaterXbox),\n    playedLaterSteam = if_else(is.na(playedLaterSteam), FALSE, playedLaterSteam),\n    playedLaterAny = ifelse(playedLaterNintendo | playedLaterXbox | playedLaterSteam, TRUE, FALSE)\n  )",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#exclusion-criteria",
    "href": "scripts/1_preprocess.html#exclusion-criteria",
    "title": "2  Preprocess Data",
    "section": "2.7 Exclusion criteria",
    "text": "2.7 Exclusion criteria\nWe will exclude any telemetry rows wherein players have logged more than 24 hours of playtime on one platform in any single day, or where sessions have taken place in the future, indicating a technical problem or manipulation of the system clock for in-game benefits.\nWe will further include an attention check in the panel surveys whereby participants are given a random duplicated item from the need satisfaction and frustration measure. Responses where the two duplicate items differ by more than 1 scale point will be flagged for manual inspection of potential careless responding.\nWe have 4 exclusion criteria total:\n\nNo telemetry rows wherein players have logged more than 16 hours of playtime across linked platforms in any single day\nNo sessions longer than 8 hours\nNo sessions taking place in the future, relative to when data is collected\nNo responses failing the attention check (&gt; 1 scale point difference between two duplicated items)\n\n\n\nShow the code (exclusion criteria)\n# TODO: update exclusion criteria\n\nexcluded &lt;- bind_rows(synNintendo, synXbox, synSteam) |&gt; \n  group_by(pid, day) |&gt; \n  summarise(dailyPlay = sum(duration)) |&gt; \n  filter(dailyPlay &gt;= 1440)\n\nsynNintendoClean &lt;- synNintendo |&gt; \n  filter(sessionStart &lt;= Sys.time()) |&gt; # no future sessions\n  anti_join(excluded, by = c(\"pid\", \"day\"))\n\nsynSteamClean &lt;- synSteam |&gt; \n  filter(sessionStart &lt;= Sys.time()) |&gt; # no future sessions\n  anti_join(excluded, by = c(\"pid\", \"day\"))\n\nsynXboxClean &lt;- synXbox |&gt;\n  filter(sessionStart &lt;= Sys.time()) |&gt; # no future sessions\n  anti_join(excluded, by = c(\"pid\", \"day\"))\n\nsynAndroidClean &lt;- synAndroid |&gt;\n  filter(category == \"Games\") |&gt; \n  mutate(sessionStart = as_datetime(paste(date, sessionStart)),\n         sessionEnd = as_datetime(paste(date, sessionEnd))) |&gt;\n  rename(titleID = app)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#positive-control-power",
    "href": "scripts/1_preprocess.html#positive-control-power",
    "title": "2  Preprocess Data",
    "section": "2.8 Positive Control Power",
    "text": "2.8 Positive Control Power\nIn the manuscript, we specify a variety of positive controls—tests that must be passed in order to justify adhering to our proposed analysis strategy.\nIt is important that our design has sufficient statistical power to detect such effects if they exist. Here we calculate the power for each of our positive controls.\n\n\n\n\n\n\n\n\nApplicable Study\nTest\nStatistical Power\n\n\nAll studies\nA significant positive correlation between self-reported video game play and digital trace playtime during the previous 2 weeks\nAssuming n = 9,300 panel surveys (after 10% wave-on-wave attrition), a true population value of r = .2, an alpha of .05, and a one-sided test, power &gt; 99%\n\n\nAll studies\nThere will be no overlapping sessions for a given individual on Nintendo or Xbox (we allow for possible overlap across different platforms, in case the user has two devices active simultaneously) AND there will be no cases where a player logs more than 60 minutes of playtime on Steam between adjacent hourly measurements\n(N/A; fails if a single case occurs)\n\n\nStudy 1\nSignificant positive correlation between need satisfaction in general and daily life satisfaction\nAssuming n = 21,000 diary surveys (after 30% total attrition), a true population value of r = .2, and an alpha of .05, power &gt; 99%\n\n\nStudy 2\nSignificant positive correlation between social jetlag as calculated by the Munich Chronotype Questionnaire and daytime sleepiness.\nAssuming n = 4,440 panel surveys with sleep measures (Waves 2, 4, 6 only + 10% wave-on-wave attrition), a true population value of Spearman’s rho = .1, an alpha of .05, and a one-sided test, power &gt; 99%\n\n\nStudy 2\nSignificant negative correlation between (Pittsburgh Sleep Quality Index sleep quality component) and Warwick-Edinburgh Mental Well-being Scale (WEMWBS).\nAssuming n = 4,440 panel surveys with sleep measures (Waves 2, 4, 6 only + 10% wave-on-wave attrition), a true population value of Spearman’s rho = -.1, an alpha of .05, and a one-sided test, power &gt; 99%\n\n\nStudy 3\nSignificantly higher playtime in shooter games for men as compared to women (Lange et al., 2021)\nAssuming telemetry data for n = 1,000 (as attrition during surveys does not prevent us from collecting gameplay data), a true population difference of d = .3, and an alpha of .05, power &gt; 99%\n\n\n\n\n\nShow the code (positive control power)\n# Positive control 1: A significant positive correlation between self-reported video game play and digital trace playtime during the previous 2 weeks\npwr.r.test(n = 9300, r = .2, sig.level = .05, alternative = \"greater\")\n\n\n\n     approximate correlation power calculation (arctangh transformation) \n\n              n = 9300\n              r = 0.2\n      sig.level = 0.05\n          power = 1\n    alternative = greater\n\n\nShow the code (positive control power)\n# Positive control 3: Significant positive correlation between need satisfaction in general and daily life satisfaction\npwr.r.test(n = 9300, r = .2, sig.level = .05, alternative = \"greater\")\n\n\n\n     approximate correlation power calculation (arctangh transformation) \n\n              n = 9300\n              r = 0.2\n      sig.level = 0.05\n          power = 1\n    alternative = greater\n\n\nShow the code (positive control power)\n# Positive control 4: Significant positive correlation between need satisfaction in general and daily life satisfaction\n# This will be tested as a spearman's rho correlation, but with no easy package for power calculation we simply calculate this as pearson's r here; these will not differ substantially.\npwr.r.test(n = 4400, r = .1, sig.level = .05, alternative = \"greater\")\n\n\n\n     approximate correlation power calculation (arctangh transformation) \n\n              n = 4400\n              r = 0.1\n      sig.level = 0.05\n          power = 0.9999997\n    alternative = greater\n\n\nShow the code (positive control power)\n# Postive control 5: Significant negative correlation between sleep quality (Pittsburgh Sleep Quality Index sleep quality component) and Warwick-Edinburgh Mental Well-being Scale (WEMWBS).\n# This will be tested as a spearman's rho correlation, but with no easy package for power calculation we simply calculate this as pearson's r here; these will not differ substantially.\npwr.r.test(n = 400, r = -.1, sig.level = .05, alternative = \"greater\")\n\n\n\n     approximate correlation power calculation (arctangh transformation) \n\n              n = 400\n              r = -0.1\n      sig.level = 0.05\n          power = 0.0001329624\n    alternative = greater\n\n\nShow the code (positive control power)\n# Positive control 5: Men should have significantly higher playtime in 1st person shooters than women \npwr.t.test(n = 1000, d = .2, sig.level = .05, type = \"one.sample\", alternative = \"greater\")\n\n\n\n     One-sample t test power calculation \n\n              n = 1000\n              d = 0.2\n      sig.level = 0.05\n          power = 0.9999985\n    alternative = greater",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#impute-missing-data",
    "href": "scripts/1_preprocess.html#impute-missing-data",
    "title": "2  Preprocess Data",
    "section": "2.9 Impute missing data",
    "text": "2.9 Impute missing data\nHere we give an indicative example of how multiple imputation will be performed. As this is computationally demanding and will ultimately depend on the parameters of the true data, we do not exhaustively simulate imputation here. Broadly, we:\n\nPivot the data to wide format\nSelect relevant predictors for imputation so as to reduce the data size (which would otherwise include thousands of columns)\nPerform multiple imputation using predictive mean match\n\nWe will evaluate this imputation model for performance and adjust as necessary.\n\n\nShow the code (multiple imputation)\ndiaryWide &lt;- diary |&gt;\n  select(-date) |&gt;\n  pivot_wider(\n    names_from = day,\n    values_from = -pid,\n    names_sep = \"_w\"\n  ) |&gt;\n  select(-starts_with(c(\"day\", \"missing\", \"surveyCompletion\", \"sd\", \"timeUse\", \"displacedActivity\", \"playedLater\")))\n\nquickpred(diaryWide)\n\nmice(data = diaryWide, m = 5, method = \"pmm\", maxit = 5, seed = 8675309)\nmice(data = diaryWide, m = 5, method = \"pmm\", maxit = 5, parallelseed = 8675309) # alternatively, try to parallelize",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/1_preprocess.html#save-data",
    "href": "scripts/1_preprocess.html#save-data",
    "title": "2  Preprocess Data",
    "section": "2.10 Save data",
    "text": "2.10 Save data\n\n\nShow the code (save data)\nwrite_csv(synIntakeClean, \"data/data-synthetic-clean/synIntakeClean.csv.gz\")\nwrite_csv(synDiaryClean, \"data/data-synthetic-clean/synDiaryClean.csv.gz\")\nwrite_csv(synPanelClean, \"data/data-synthetic-clean/synPanelClean.csv.gz\")\nwrite_csv(synNintendoClean, \"data/data-synthetic-clean/synNintendoClean.csv.gz\")\nwrite_csv(synXboxClean, \"data/data-synthetic-clean/synXboxClean.csv.gz\")\nwrite_csv(synSteamClean, \"data/data-synthetic-clean/synSteamClean.csv.gz\")\nwrite_csv(syniOS, \"data/data-synthetic-clean/syniOSClean.csv.gz\")\nwrite_csv(synAndroidClean, \"data/data-synthetic-clean/synAndroidClean.csv.gz\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preprocess Data</span>"
    ]
  },
  {
    "objectID": "scripts/2_basicNeeds.html",
    "href": "scripts/2_basicNeeds.html",
    "title": "3  Study 1: Gaming and Basic Needs",
    "section": "",
    "text": "3.1 H1. Greater in-game need satisfaction is associated with greater global need satisfaction (H6 in BANG)\nExperiences of gaming feed into and co-constitute experiences of life as a whole—experiences with games are one (greater or lesser) element of lives in general. Thus, H6 in BANG predicts: Greater in-game need satisfaction is associated with greater global need satisfaction.\nWe model this with a multilevel within-between linear regression whereby game-level need satisfaction (within- and between-centered; gameNS_cw and gameNS_cb) predicts deviation from a person’s typical globalNS (globalNS, with a random intercept and slope), and an AR(1) autocorrelation term.\nShow the code (H1 model)\nh1mod &lt;- glmmTMB(globalNS ~ gameNS_cw + gameNS_cb + (1 + gameNS_cw | pid) + ar1(day + 0 | pid),\n  data = dat\n)\n\nplot_predictions(h1mod, condition = \"gameNS_cw\", vcov = TRUE)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Study 1: Gaming and Basic Needs</span>"
    ]
  },
  {
    "objectID": "scripts/2_basicNeeds.html#h1.-greater-in-game-need-satisfaction-is-associated-with-greater-global-need-satisfaction-h6-in-bang",
    "href": "scripts/2_basicNeeds.html#h1.-greater-in-game-need-satisfaction-is-associated-with-greater-global-need-satisfaction-h6-in-bang",
    "title": "3  Study 1: Gaming and Basic Needs",
    "section": "",
    "text": "Note\n\n\n\nThere’s a flukey result here wherein gameNS_cw and globalNS are negatively related, even though these variables have nothing to do with each other in the sim. We weren’t able to diagnose yet whether this is simulation problem or a bug elsewhere, but will continue investigating prior to the collection of human data and update accordingly.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Study 1: Gaming and Basic Needs</span>"
    ]
  },
  {
    "objectID": "scripts/2_basicNeeds.html#h2.-situational-need-satisfaction-is-positively-associated-with-the-likelihood-of-playing-in-the-period-after-survey-completion-h2a-while-global-need-frustration-is-negatively-associated-h2b",
    "href": "scripts/2_basicNeeds.html#h2.-situational-need-satisfaction-is-positively-associated-with-the-likelihood-of-playing-in-the-period-after-survey-completion-h2a-while-global-need-frustration-is-negatively-associated-h2b",
    "title": "3  Study 1: Gaming and Basic Needs",
    "section": "3.2 H2. Situational need satisfaction is positively associated with the likelihood of playing in the period after survey completion (H2a), while global need frustration is negatively associated (H2b)",
    "text": "3.2 H2. Situational need satisfaction is positively associated with the likelihood of playing in the period after survey completion (H2a), while global need frustration is negatively associated (H2b)\nExperiences of need satisfaction during a particular gaming session lead players to update expectations for future experiences with the current game, similar games, and gaming as a whole, such that greater need satisfaction leads to higher expectations for future need satisfaction. Under BANG, need-related outcome expectations are conceptually similar to intrinsic motivation, and the behavioral product of these expectations is therefore greater behavioral engagement.\nThus, the model attempts to evaluate whether experiencing high game-level need satisfaction in one’s most recent session is linked with a higher likelihood of playing games again in the 24-hour period after the survey.\nAnother factor that might increase the likelihood that someone (re)turns to gaming is global need frustration. SDT predicts that (global) need frustration results in compensatory behavior—people attempt to replenish needs that are not being met by altering their behavior. The dense need satisfaction offered by games constitute one way for people to compensate. BANG operationalizes this compensatory play in via intrinsic motivation. Frustrated needs in one’s life in general make opportunities to fulfill those needs more salient, which—all else equal—manifests phenomenologically as an increased energy towards those activities. Given this, we predict: Global need frustration is associated with higher likelihood of playing in the 24-hour period after survey completion (H9 in BANG)\nAs they share an outcome variable, we model these together. We model these with a multilevel within-between logistic regression, where in-game need satisfaction and global need frustration (each within- and between-person centered; gameNS_cw, gameNS_cb, globalNF_cw, globalNF_cb) predict playedAfterSurvey, a binary variable indicating whether any play happened in the 24-hour period after diary survey completion.\nAs before, we include an AR(1) term to account for the fact that likelihood of play might be autocorrelated (if, e.g., people tend to get on a roll and play multiple days in a row).\n\n\nShow the code (H2 model)\nh2mod &lt;- glmmTMB(\n  playedLaterAny ~ gameNS_cw + gameNS_cb + globalNF_cw + globalNF_cb +\n    (1 + gameNS_cw + globalNF_cw | pid) + ar1(day + 0 | pid),\n  data = dat,\n  family = binomial(link = \"logit\"),\n  dispformula = ~1,\n  ziformula = ~0\n)\n\nsummary(h2mod)\n\n\n Family: binomial  ( logit )\nFormula:          \nplayedLaterAny ~ gameNS_cw + gameNS_cb + globalNF_cw + globalNF_cb +  \n    (1 + gameNS_cw + globalNF_cw | pid) + ar1(day + 0 | pid)\nData: dat\n\n     AIC      BIC   logLik deviance df.resid \n      NA       NA       NA       NA     6956 \n\nRandom effects:\n\nConditional model:\n Groups Name        Variance   Std.Dev.   Corr                            \n pid    (Intercept)  1.041e+00  1.020e+00                                 \n        gameNS_cw    5.543e-04  2.354e-02 -1.00                           \n        globalNF_cw  1.888e-03  4.345e-02 -1.00       1.00                \n pid.1  day1        1.309e-245 3.618e-123 1.00 (ar1) 1.00 (ar1) 1.00 (ar1)\nNumber of obs: 6969, groups:  pid, 973\n\nConditional model:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) -0.19893    0.04339  -4.584 4.56e-06 ***\ngameNS_cw    0.01047    0.02526   0.414   0.6786    \ngameNS_cb   -0.28593    0.11770  -2.429   0.0151 *  \nglobalNF_cw -0.03674    0.03942  -0.932   0.3514    \nglobalNF_cb  0.02889    0.22879   0.126   0.8995    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nShow the code (H2 model)\nplot_predictions(h2mod, condition = \"globalNF_cw\", vcov = TRUE)\n\n\n\n\n\n\n\n\n\nShow the code (H2 model)\nplot_predictions(h2mod, condition = \"gameNS_cw\", vcov = TRUE)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Study 1: Gaming and Basic Needs</span>"
    ]
  },
  {
    "objectID": "scripts/2_basicNeeds.html#h3.-when-gaming-displaces-a-core-life-domain-workschool-social-engagements-sleepeatingfitness-or-caretaking-global-need-satisfaction-will-be-lower-h5-in-bang",
    "href": "scripts/2_basicNeeds.html#h3.-when-gaming-displaces-a-core-life-domain-workschool-social-engagements-sleepeatingfitness-or-caretaking-global-need-satisfaction-will-be-lower-h5-in-bang",
    "title": "3  Study 1: Gaming and Basic Needs",
    "section": "3.3 H3. When gaming displaces a core life domain (work/school, social engagements, sleep/eating/fitness, or caretaking), global need satisfaction will be lower (H5 in BANG)",
    "text": "3.3 H3. When gaming displaces a core life domain (work/school, social engagements, sleep/eating/fitness, or caretaking), global need satisfaction will be lower (H5 in BANG)\nWe don’t have temporal precedence here (the need satisfaction measure refers to the day as a whole), and have very little ability to define and adjust for confounds, so this is a very weak test of the displacement hypothesis—but the first of its kind, as far as I know.\nBriefly, I’m just interested in whether gaming sessions that displace a core life domain—work/school, social engagements, sleep/eating/fitness, or caretaking—are associated with lower global need satisfaction. displacedCoreActivity is a binary variable; participants write in a free text response what they most likely would have done instead of their most recent gaming session, and these are classified into core/noncore domains.\nWe use a multilevel linear regression to determine whether displacing a core activity is likely to co-occur with a person differing from their typical level of global need satisfaction (globalNS).\n\n\nShow the code (H3 model)\nh3mod &lt;- glmmTMB(globalNS ~ displacedCoreDomain + (1 + displacedCoreDomain | pid) + ar1(day + 0 | pid),\n  data = dat\n)\nplot_predictions(h3mod, condition = \"displacedCoreDomain\", vcov = TRUE)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Study 1: Gaming and Basic Needs</span>"
    ]
  },
  {
    "objectID": "scripts/2_basicNeeds.html#precision-analysis",
    "href": "scripts/2_basicNeeds.html#precision-analysis",
    "title": "3  Study 1: Gaming and Basic Needs",
    "section": "3.4 Precision Analysis",
    "text": "3.4 Precision Analysis\nThe above models are fit to simulated data which mirrors the structure of the true data, but lacks control over the distribution and relationships between the particular variables used in this study. To provide rough indications of the estimated precision of Study 1 tests, here we simulate a dataset with a known relationship between need satisfaction in games and need satisfaction in daily life, and then fit H1 as above (selecting just one hypothesis for detailed inspection to illustrate).\n\n\nShow the code (precision analysis)\n# sim parameters\nn_pid &lt;- 1000  \nn_days &lt;- 21\nbeta_0 &lt;- 2.0  # global intercept\nbeta_cw &lt;- 0.1  # global slope for within-person \nbeta_cb &lt;- 0.1  # global slope for between-person \nsigma_cw &lt;- .5\nsigma_intercept &lt;- 1.0  # Random intercept SD\nsigma_slope &lt;- 0.5  # Random slope SD\nsigma_residual &lt;- 1  # Residual SD\nrho &lt;- 0.2  # AR(1) autocorrelation coefficient\n\nsim_s1 &lt;- dat |&gt; \n  group_by(pid) |&gt;\n  mutate(\n    random_intercept = rnorm(1, mean = 0, sd = sigma_intercept),\n    random_slope = rnorm(1, mean = 0, sd = sigma_slope),\n    gameNS_cb = rnorm(1)\n  ) |&gt; \n  ungroup() |&gt; \n  mutate(\n    gameNS_cw = rnorm(n(), mean = 0, sd = sigma_cw),\n  )\n\n# Generate AR(1) errors for each individual\nsim_s1$residual &lt;- unlist(lapply(1:n_pid, function(i) {\n  arima.sim(n = n_days, model = list(ar = rho), sd = sigma_residual)\n}))\n\n# Generate the response variable based on the model\nsim_s1 &lt;- sim_s1 |&gt; \n  mutate(globalNS = beta_0 + random_intercept + (beta_cw + random_slope)*gameNS_cw + beta_cb * gameNS_cb + residual)\n\nh1mod &lt;- glmmTMB(globalNS ~ gameNS_cw + gameNS_cb + (1 + gameNS_cw| pid) + ar1(as.factor(day) + 0 | pid),\n  data = sim_s1\n)\n\nsummary(h1mod)\n\n\n Family: gaussian  ( identity )\nFormula:          \nglobalNS ~ gameNS_cw + gameNS_cb + (1 + gameNS_cw | pid) + ar1(as.factor(day) +  \n    0 | pid)\nData: sim_s1\n\n     AIC      BIC   logLik deviance df.resid \n 63198.4  63270.0 -31590.2  63180.4    20991 \n\nRandom effects:\n\nConditional model:\n Groups   Name            Variance Std.Dev. Corr                 \n pid      (Intercept)     0.9841   0.9920                        \n          gameNS_cw       0.2546   0.5046   0.03                 \n pid.1    as.factor(day)1 0.9259   0.9622   0.22 (ar1) 0.22 (ar1)\n Residual                 0.1164   0.3411                        \nNumber of obs: 21000, groups:  pid, 1000\n\nDispersion estimate for gaussian family (sigma^2): 0.116 \n\nConditional model:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  1.95981    0.03254   60.22  &lt; 2e-16 ***\ngameNS_cw    0.09798    0.02140    4.58 4.68e-06 ***\ngameNS_cb    0.07100    0.03225    2.20   0.0277 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nShow the code (precision analysis)\nplot_predictions(h1mod, condition = \"gameNS_cw\", vcov = TRUE, re.form = NA) +\n  ylim(1, 5)\n\n\n\n\n\n\n\n\n\nShow the code (precision analysis)\nconfint(h1mod)[2,3] - confint(h1mod)[2,2]\n\n\n[1] -0.04194379",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Study 1: Gaming and Basic Needs</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html",
    "href": "scripts/3_sleep.html",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "",
    "text": "4.1 H1a: Late-night gaming is associated with poorer sleep quality.\nMultilevel ordinal regression whereby monthly average minutes played predicts sleep quality (PSQI), controlling for age, BMI, SES index, region, and whether playtime falls on a weekend, with a random intercept and slope for participants.\nFit H1a model\n# For psqi_6 1 means Very good, 2 means Fairly good, 3 means Fairly bad, 4 means Very bad\n\n# Fit the model with rescaled covariates\nmodel.h1a &lt;- clmm(psqi_6_ord ~ monthly_avg_minutes_played + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + region + isWeekend,\n                  data = gamingMonthly)\n\nmodelsummary(\n  list(`Model H1a` = model.h1a),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1a\n              \n        \n        \n        \n                \n                  1|2                                           \n                  -1.45 [-1.61, -1.29]***\n                \n                \n                  2|3                                           \n                  0.00 [-0.16, 0.16]     \n                \n                \n                  3|4                                           \n                  1.49 [1.33, 1.65]***   \n                \n                \n                  monthly_avg_minutes_played                    \n                  0.06 [-0.01, 0.13]+    \n                \n                \n                  age_scaled                                    \n                  -0.12 [-0.24, 0.00]*   \n                \n                \n                  bmi_scaled                                    \n                  0.04 [-0.04, 0.13]     \n                \n                \n                  SES_index_scaled                              \n                  0.07 [-0.02, 0.16]     \n                \n                \n                  regionUS                                      \n                  -0.11 [-0.35, 0.12]    \n                \n                \n                  isWeekend                                     \n                  -0.01 [-0.11, 0.08]    \n                \n                \n                  SD (Intercept pid)                            \n                  1.40                   \n                \n                \n                  SD (monthly_avg_minutes_played pid)           \n                  0.00                   \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)\n                  -1.00                  \n                \n                \n                  Num.Obs.                                      \n                  6329                   \n                \n                \n                  R2 Marg.                                      \n                  0.005                  \n                \n                \n                  AIC                                           \n                  16748.6                \n                \n                \n                  BIC                                           \n                  16829.7                \n                \n                \n                  RMSE                                          \n                  2.39",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#h1b-late-night-gaming-is-associated-with-shorter-sleep-duration.",
    "href": "scripts/3_sleep.html#h1b-late-night-gaming-is-associated-with-shorter-sleep-duration.",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.2 H1b: Late-night gaming is associated with shorter sleep duration.",
    "text": "4.2 H1b: Late-night gaming is associated with shorter sleep duration.\nMultilevel linear regression whereby monthly average minutes played predicts total hours of sleep (PSQI), controlling for age, BMI, SES index, region, gender, and whether playtime falls on a weekend, with a random intercept and slope for participants and a random intercept for gender.\n\n\nFit H1b model\n# Fit the model\nmodel.h1b &lt;- lmer(total_hours_sleep ~ monthly_avg_minutes_played + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + (1 | gender) + region + isWeekend, \n                  data = gamingMonthly\n                  )\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H1b` = model.h1b),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1b\n              \n        \n        \n        \n                \n                  (Intercept)                                   \n                  6.63 [6.41, 6.85]***\n                \n                \n                  monthly_avg_minutes_played                    \n                  -0.07 [-0.18, 0.04] \n                \n                \n                  age_scaled                                    \n                  -0.08 [-0.25, 0.09] \n                \n                \n                  bmi_scaled                                    \n                  -0.02 [-0.15, 0.10] \n                \n                \n                  SES_index_scaled                              \n                  -0.03 [-0.15, 0.10] \n                \n                \n                  regionUS                                      \n                  -0.05 [-0.39, 0.29] \n                \n                \n                  isWeekend                                     \n                  0.04 [-0.10, 0.19]  \n                \n                \n                  SD (Intercept pid)                            \n                  1.96                \n                \n                \n                  SD (monthly_avg_minutes_played pid)           \n                  0.09                \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)\n                  1.00                \n                \n                \n                  SD (Intercept gender)                         \n                  0.00                \n                \n                \n                  SD (Observations)                             \n                  2.92                \n                \n                \n                  Num.Obs.                                      \n                  6329                \n                \n                \n                  R2 Marg.                                      \n                  0.001               \n                \n                \n                  R2 Cond.                                      \n                  0.313               \n                \n                \n                  AIC                                           \n                  33147.6             \n                \n                \n                  BIC                                           \n                  33228.7             \n                \n                \n                  ICC                                           \n                  0.3                 \n                \n                \n                  RMSE                                          \n                  2.69",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#h1c-late-night-gaming-is-associated-with-lower-well-being.",
    "href": "scripts/3_sleep.html#h1c-late-night-gaming-is-associated-with-lower-well-being.",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.3 H1c: Late-night gaming is associated with lower well-being.",
    "text": "4.3 H1c: Late-night gaming is associated with lower well-being.\nMultilevel linear regression whereby monthly average minutes played predicts daytime sleepiness (Epworth Sleepiness Scale), controlling for age, BMI, SES index, region, gender, and whether playtime falls on a weekend, with a random intercept and slope for participants and a random intercept for gender.\n\n\nFit H1c model\nmodel.h1c &lt;- lmer(wemwbs ~ biweekly_avg_minutes_played + (1 + biweekly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + (1 | gender) + region + isWeekend, \n                  data = gamingBiweekly)\n\nmodelsummary(\n  list(`Model H1c` = model.h1c),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1c\n              \n        \n        \n        \n                \n                  (Intercept)                                    \n                  2.98 [2.96, 3.00]***\n                \n                \n                  biweekly_avg_minutes_played                    \n                  0.00 [0.00, 0.00]   \n                \n                \n                  age_scaled                                     \n                  0.02 [0.00, 0.04]+  \n                \n                \n                  bmi_scaled                                     \n                  0.01 [0.00, 0.02]+  \n                \n                \n                  SES_index_scaled                               \n                  0.00 [-0.01, 0.02]  \n                \n                \n                  regionUS                                       \n                  0.03 [0.00, 0.07]+  \n                \n                \n                  isWeekend                                      \n                  0.00 [-0.02, 0.02]  \n                \n                \n                  SD (Intercept pid)                             \n                  0.19                \n                \n                \n                  SD (biweekly_avg_minutes_played pid)           \n                  0.00                \n                \n                \n                  Cor (Intercept~biweekly_avg_minutes_played pid)\n                  1.00                \n                \n                \n                  SD (Intercept gender)                          \n                  0.00                \n                \n                \n                  SD (Observations)                              \n                  0.50                \n                \n                \n                  Num.Obs.                                       \n                  12598               \n                \n                \n                  R2 Marg.                                       \n                  0.001               \n                \n                \n                  AIC                                            \n                  19675.6             \n                \n                \n                  BIC                                            \n                  19764.9             \n                \n                \n                  RMSE                                           \n                  0.48",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#h1d-late-night-gaming-is-associated-with-higher-daytime-sleepiness.",
    "href": "scripts/3_sleep.html#h1d-late-night-gaming-is-associated-with-higher-daytime-sleepiness.",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.4 H1d: Late-night gaming is associated with higher daytime sleepiness.",
    "text": "4.4 H1d: Late-night gaming is associated with higher daytime sleepiness.\nMultilevel linear regression whereby biweekly average minutes played predicts well-being (WEMWBS), controlling for age, BMI, SES index, region, gender, and whether playtime falls on a weekend, with a random intercept and slope for participants and a random intercept for gender.\n\n\nFit H1d model\n# Fit the model\nmodel.h1d &lt;- lmer(epsTotal ~ monthly_avg_minutes_played + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + (1 | gender) + region + isWeekend, \n                  data = gamingMonthly)\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H1d` = model.h1d),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1d\n              \n        \n        \n        \n                \n                  (Intercept)                                   \n                  7.06 [6.69, 7.43]***\n                \n                \n                  monthly_avg_minutes_played                    \n                  -0.07 [-0.18, 0.05] \n                \n                \n                  age_scaled                                    \n                  0.06 [-0.24, 0.35]  \n                \n                \n                  bmi_scaled                                    \n                  0.09 [-0.12, 0.30]  \n                \n                \n                  SES_index_scaled                              \n                  -0.09 [-0.30, 0.12] \n                \n                \n                  regionUS                                      \n                  0.24 [-0.34, 0.82]  \n                \n                \n                  isWeekend                                     \n                  0.00 [-0.18, 0.19]  \n                \n                \n                  SD (Intercept pid)                            \n                  4.19                \n                \n                \n                  SD (monthly_avg_minutes_played pid)           \n                  0.05                \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)\n                  1.00                \n                \n                \n                  SD (Intercept gender)                         \n                  0.00                \n                \n                \n                  SD (Observations)                             \n                  4.86                \n                \n                \n                  Num.Obs.                                      \n                  10650               \n                \n                \n                  R2 Marg.                                      \n                  0.001               \n                \n                \n                  AIC                                           \n                  67015.7             \n                \n                \n                  BIC                                           \n                  67102.9             \n                \n                \n                  RMSE                                          \n                  4.50",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#h2",
    "href": "scripts/3_sleep.html#h2",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.5 H2",
    "text": "4.5 H2\n\n4.5.1 H2a: The negative association between late-night gaming and sleep quality is more pronounced among evening chronotypes.\nMultilevel ordinal regression whereby the interaction between monthly average minutes played and chronotype (MSFsc: mid-sleep on free days corrected for sleep debt on weekdays; MCTQ) predicts sleep quality (PSQI), controlling for age, BMI, SES index, region, and whether playtime falls on a weekend, with a random intercept and slope for participants.\nOn the simulation data, there are convergence problems, so here we center late night minutes and chronotype. This will either be uncentered for interpretation or not necessary on the true data.)\n\n\nFit H2a model\n# Fit the model with rescaled covariates\nmodel.h2a &lt;- clmm(psqi_6_ord ~ scale(monthly_avg_minutes_played) * scale(msf_sc_numeric) + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + region + isWeekend,\n                  data = gamingMonthly)\n\nmodelsummary(\n  list(`Model H2a` = model.h2a),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H2a\n              \n        \n        \n        \n                \n                  1|2                                                      \n                  -1.28 [-1.53, -1.04]***\n                \n                \n                  2|3                                                      \n                  0.14 [-0.10, 0.38]     \n                \n                \n                  3|4                                                      \n                  1.63 [1.38, 1.88]***   \n                \n                \n                  scale(monthly_avg_minutes_played)                        \n                  -0.05 [-0.17, 0.07]    \n                \n                \n                  scale(msf_sc_numeric)                                    \n                  -0.03 [-0.16, 0.10]    \n                \n                \n                  age_scaled                                               \n                  -0.10 [-0.29, 0.09]    \n                \n                \n                  bmi_scaled                                               \n                  -0.10 [-0.23, 0.03]    \n                \n                \n                  SES_index_scaled                                         \n                  0.02 [-0.11, 0.16]     \n                \n                \n                  regionUS                                                 \n                  -0.01 [-0.37, 0.36]    \n                \n                \n                  isWeekend                                                \n                  -0.01 [-0.15, 0.14]    \n                \n                \n                  scale(monthly_avg_minutes_played) × scale(msf_sc_numeric)\n                  -0.04 [-0.14, 0.07]    \n                \n                \n                  SD (Intercept pid)                                       \n                  1.38                   \n                \n                \n                  SD (monthly_avg_minutes_played pid)                      \n                  0.14                   \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)           \n                  1.00                   \n                \n                \n                  Num.Obs.                                                 \n                  2661                   \n                \n                \n                  R2 Marg.                                                 \n                  0.005                  \n                \n                \n                  R2 Cond.                                                 \n                  0.369                  \n                \n                \n                  AIC                                                      \n                  7048.3                 \n                \n                \n                  BIC                                                      \n                  7130.7                 \n                \n                \n                  RMSE                                                     \n                  2.36",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#h2b-the-negative-association-between-late-night-gaming-and-sleep-duration-is-more-pronounced-among-evening-chronotypes.",
    "href": "scripts/3_sleep.html#h2b-the-negative-association-between-late-night-gaming-and-sleep-duration-is-more-pronounced-among-evening-chronotypes.",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.6 H2b: The negative association between late-night gaming and sleep duration is more pronounced among evening chronotypes.",
    "text": "4.6 H2b: The negative association between late-night gaming and sleep duration is more pronounced among evening chronotypes.\n\n\nFit H2b model\n# Fit the model\nmodel.h2b &lt;- lmer(total_hours_sleep ~ monthly_avg_minutes_played * msf_sc_numeric + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + region + isWeekend + (1 | gender), \n                  data = gamingMonthly)\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H2b` = model.h2b),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H2b\n              \n        \n        \n        \n                \n                  (Intercept)                                   \n                  6.78 [6.27, 7.28]***\n                \n                \n                  monthly_avg_minutes_played                    \n                  0.05 [-0.28, 0.38]  \n                \n                \n                  msf_sc_numeric                                \n                  -0.01 [-0.04, 0.02] \n                \n                \n                  age_scaled                                    \n                  -0.21 [-0.48, 0.06] \n                \n                \n                  bmi_scaled                                    \n                  0.02 [-0.18, 0.21]  \n                \n                \n                  SES_index_scaled                              \n                  -0.03 [-0.23, 0.16] \n                \n                \n                  regionUS                                      \n                  -0.07 [-0.60, 0.45] \n                \n                \n                  isWeekend                                     \n                  0.01 [-0.22, 0.24]  \n                \n                \n                  monthly_avg_minutes_played × msf_sc_numeric   \n                  -0.01 [-0.03, 0.01] \n                \n                \n                  SD (Intercept pid)                            \n                  1.93                \n                \n                \n                  SD (monthly_avg_minutes_played pid)           \n                  0.13                \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)\n                  1.00                \n                \n                \n                  SD (Intercept gender)                         \n                  0.21                \n                \n                \n                  SD (Observations)                             \n                  2.95                \n                \n                \n                  Num.Obs.                                      \n                  2661                \n                \n                \n                  R2 Marg.                                      \n                  0.005               \n                \n                \n                  AIC                                           \n                  14000.4             \n                \n                \n                  BIC                                           \n                  14082.8             \n                \n                \n                  RMSE                                          \n                  2.72                \n                \n        \n      \n    \n\n\n\n\n4.6.1 H2c: The negative association between late-night gaming and well-being is more pronounced among evening chronotypes.\nMultilevel linear regression whereby the interaction between monthly average minutes played and chronotype (MSFsc; MCTQ) predicts daytime sleepiness (Epworth Sleepiness Scale), controlling for age, BMI, SES index, region, gender, and whether playtime falls on a weekend, with a random intercept and slope for participants and a random intercept for gender.\n\n\nFit H2c model\n# Fit the model\nmodel.h2c &lt;- lmer(wemwbs ~ biweekly_avg_minutes_played * msf_sc_numeric + (1 | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + region + isWeekend + (1 | gender), \n                  data = gamingBiweekly)\nmodelsummary(\n  list(`Model h2c` = model.h2c),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model h2c\n              \n        \n        \n        \n                \n                  (Intercept)                                 \n                  3.00 [2.95, 3.06]***\n                \n                \n                  biweekly_avg_minutes_played                 \n                  0.00 [-0.01, 0.01]  \n                \n                \n                  msf_sc_numeric                              \n                  0.00 [0.00, 0.00]   \n                \n                \n                  age_scaled                                  \n                  0.00 [-0.03, 0.03]  \n                \n                \n                  bmi_scaled                                  \n                  0.02 [-0.01, 0.04]  \n                \n                \n                  SES_index_scaled                            \n                  0.02 [-0.01, 0.04]  \n                \n                \n                  regionUS                                    \n                  0.02 [-0.04, 0.08]  \n                \n                \n                  isWeekend                                   \n                  0.00 [-0.03, 0.03]  \n                \n                \n                  biweekly_avg_minutes_played × msf_sc_numeric\n                  0.00 [0.00, 0.00]   \n                \n                \n                  SD (Intercept pid)                          \n                  0.21                \n                \n                \n                  SD (Intercept gender)                       \n                  0.00                \n                \n                \n                  SD (Observations)                           \n                  0.50                \n                \n                \n                  Num.Obs.                                    \n                  5388                \n                \n                \n                  R2 Marg.                                    \n                  0.004               \n                \n                \n                  AIC                                         \n                  8543.0              \n                \n                \n                  BIC                                         \n                  8622.1              \n                \n                \n                  RMSE                                        \n                  0.48                \n                \n        \n      \n    \n\n\n\n\n\n4.6.2 H2d: The negative association between late-night gaming and daytime sleepiness is more pronounced among evening chronotypes.\nMultilevel linear regression whereby the interaction between biweekly average minutes played and chronotype (MSFsc; MCTQ) predicts well-being (WEMWBS), controlling for age, BMI, SES index, region, gender, and whether playtime falls on a weekend, with a random intercept for participants and a random intercept for gender.\n\n\nFit H2d model\nmodel.h2d &lt;- lmer(epsTotal ~ monthly_avg_minutes_played * msf_sc_numeric + (1 + monthly_avg_minutes_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + region + isWeekend + (1 | gender), \n                  data = gamingMonthly)\n                  \nmodelsummary(\n  list(`Model H2d` = model.h2d),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H2d\n              \n        \n        \n        \n                \n                  (Intercept)                                   \n                  7.42 [6.61, 8.24]***\n                \n                \n                  monthly_avg_minutes_played                    \n                  -0.19 [-0.50, 0.11] \n                \n                \n                  msf_sc_numeric                                \n                  -0.02 [-0.06, 0.03] \n                \n                \n                  age_scaled                                    \n                  -0.04 [-0.50, 0.42] \n                \n                \n                  bmi_scaled                                    \n                  0.05 [-0.28, 0.38]  \n                \n                \n                  SES_index_scaled                              \n                  -0.02 [-0.35, 0.31] \n                \n                \n                  regionUS                                      \n                  0.14 [-0.77, 1.04]  \n                \n                \n                  isWeekend                                     \n                  0.02 [-0.28, 0.31]  \n                \n                \n                  monthly_avg_minutes_played × msf_sc_numeric   \n                  0.01 [-0.01, 0.04]  \n                \n                \n                  SD (Intercept pid)                            \n                  4.14                \n                \n                \n                  SD (monthly_avg_minutes_played pid)           \n                  0.08                \n                \n                \n                  Cor (Intercept~monthly_avg_minutes_played pid)\n                  1.00                \n                \n                \n                  SD (Intercept gender)                         \n                  0.00                \n                \n                \n                  SD (Observations)                             \n                  4.89                \n                \n                \n                  Num.Obs.                                      \n                  4408                \n                \n                \n                  R2 Marg.                                      \n                  0.001               \n                \n                \n                  AIC                                           \n                  27796.0             \n                \n                \n                  BIC                                           \n                  27885.5             \n                \n                \n                  RMSE                                          \n                  4.53",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/3_sleep.html#precision-analysis",
    "href": "scripts/3_sleep.html#precision-analysis",
    "title": "4  Study 2: Gaming and Sleep",
    "section": "4.7 Precision Analysis",
    "text": "4.7 Precision Analysis\nIn the above examples, we use the simulated data, which mirrors the structure of the true data, but lacks control over the distribution and relationships between the particular variables used in this study. To provide rough indications of the estimated precision of our tests, here we simulate a dataset with a known relationship between playtime and sleep, and then fit H1b as above (selecting one hypothesis for detailed inspection to illustrate).\nWe assume that late-night gaming is zero-inflated gamma distributed, where 30% of people will have no late-night play at all, and the remainder generally very little (0-30 minutes), with a handful of extreme values. We assume a true effect of 1-hour of late-night gaming reducing sleep duration by .2 hours, and that the effect varies by person, with a standard deviation of .2. We then fit the model as above, and examine the estimated effect size and confidence intervals.\n\n\nShow the code (precision analysis)\nb_sleep &lt;- -.2\nsd_sleep &lt;- 1\nsd_play &lt;- .5\np_noplay &lt;- .3\nsleep_sd &lt;- 1\nrandom_intercept_sd &lt;- .6\nrandom_slope_sd &lt;- .2\n\ndata_sim &lt;- gamingMonthly |&gt; \n  dplyr::select(pid, isWeekend, total_hours_sleep, age_scaled, bmi_scaled, SES_index_scaled, gender, region) |&gt;\n  group_by(pid) |&gt;\n  mutate(\n    random_intercept = rnorm(n(), mean = 0, sd = random_intercept_sd), \n    random_slope = rnorm(n(), mean = 0, sd = random_slope_sd)\n  ) |&gt; \n  ungroup() |&gt; \n  mutate(\n    monthly_avg_hours_played = ifelse(rbinom(n(), 1, p_noplay) == 1, 0, rgamma(n(), shape = 2, scale = .3)),\n    sleep_effect = (b_sleep + random_slope) * monthly_avg_hours_played,\n    total_hours_sleep_sim = rnorm(n(), mean = 7.5 + sleep_effect + random_intercept, sd = sleep_sd),\n    total_hours_sleep_sim = ifelse(is.na(total_hours_sleep), NA, total_hours_sleep_sim) # restore missingness\n  )\n\nmodel.h1b &lt;- lmer(total_hours_sleep_sim ~ monthly_avg_hours_played + (1 + monthly_avg_hours_played | pid) +\n                    age_scaled + bmi_scaled + SES_index_scaled + (1 | gender) + region + isWeekend, \n                  data = data_sim\n                  )\n\nmodelsummary(\n  list(`Model H1b` = model.h1b),\n  fmt = 2,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1b\n              \n        \n        \n        \n                \n                  (Intercept)                                 \n                  7.51 [7.44, 7.57]***   \n                \n                \n                  monthly_avg_hours_played                    \n                  -0.19 [-0.26, -0.13]***\n                \n                \n                  age_scaled                                  \n                  -0.01 [-0.05, 0.03]    \n                \n                \n                  bmi_scaled                                  \n                  -0.02 [-0.04, 0.01]    \n                \n                \n                  SES_index_scaled                            \n                  0.01 [-0.02, 0.04]     \n                \n                \n                  regionUS                                    \n                  -0.05 [-0.13, 0.03]    \n                \n                \n                  isWeekend                                   \n                  0.04 [-0.02, 0.09]     \n                \n                \n                  SD (Intercept pid)                          \n                  0.16                   \n                \n                \n                  SD (monthly_avg_hours_played pid)           \n                  0.03                   \n                \n                \n                  Cor (Intercept~monthly_avg_hours_played pid)\n                  -1.00                  \n                \n                \n                  SD (Intercept gender)                       \n                  0.00                   \n                \n                \n                  SD (Observations)                           \n                  1.19                   \n                \n                \n                  Num.Obs.                                    \n                  6329                   \n                \n                \n                  R2 Marg.                                    \n                  0.006                  \n                \n                \n                  AIC                                         \n                  20297.0                \n                \n                \n                  BIC                                         \n                  20378.1                \n                \n                \n                  RMSE                                        \n                  1.18                   \n                \n        \n      \n    \n\n\n\nShow the code (precision analysis)\nplot_predictions(model.h1b, condition = \"monthly_avg_hours_played\")",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Study 2: Gaming and Sleep</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html",
    "href": "scripts/4_genres.html",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "",
    "text": "5.1 Load libraries and data\nShow code (load libraries)\nif (!require(\"pacman\")) install.packages(\"pacman\")\nlibrary(pacman)\n\np_load(knitr, tidyverse, dplyr, lme4, marginaleffects, interactions, data.table, readr, datawizard, kableExtra, R.utils, modelsummary, \n       multcomp, emmeans, car)\n\nset.seed(8675309)\n\nclean_string &lt;- function(text) {\n  text &lt;- tolower(text)\n  text &lt;- gsub(\"[^a-z0-9 ]\", \"\", text)\n  text &lt;- gsub(\"[ /]+\", \"_\", text)\n  text &lt;- gsub(\"^_|_$\", \"\", text)\n  return(text)\n}\nShow code (load data)\npanel &lt;- fread(\"data/data-synthetic-clean/synPanelClean.csv.gz\") |&gt; \n  mutate(\n    start_date = case_when(\n      wave == 1 ~ as.Date(\"2024-05-01\"),\n      wave == 2 ~ as.Date(\"2024-05-15\"),\n      wave == 3 ~ as.Date(\"2024-05-29\"),\n      wave == 4 ~ as.Date(\"2024-06-12\"),\n      wave == 5 ~ as.Date(\"2024-06-26\"),\n      wave == 6 ~ as.Date(\"2024-07-10\")\n    ),\n    end_date = start_date + 13  # Each wave covers a 14-day period\n  )\n\ndiary &lt;- read_csv(\"data/data-synthetic-clean/synDiaryClean.csv.gz\")\nintake &lt;- read_csv(\"data/data-synthetic-clean/synIntakeClean.csv.gz\")\nninRaw &lt;- read_csv(\"data/data-synthetic-clean/synNintendoClean.csv.gz\")\nxboxRaw &lt;- read_csv(\"data/data-synthetic-clean/synXboxClean.csv.gz\") \nsteamRaw &lt;- read_csv(\"data/data-synthetic-clean/synSteamClean.csv.gz\")\niOSRaw &lt;- read_csv(\"data/data-synthetic-raw/syniOS.csv.gz\")\nandroidRaw &lt;- read_csv(\"data/data-synthetic-raw/synAndroid.csv.gz\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#merge-data",
    "href": "scripts/4_genres.html#merge-data",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.2 Merge data",
    "text": "5.2 Merge data\nWe also perform some simple preprocessing here:\n- We create a start_date and end_date column in the panel data to represent the start and end of each wave.\n- We separate the genre column in the Nintendo, Xbox, and Steam data into five separate columns.\n- Xbox and Nintendo have roughly 4000 unique genres, which is too many to work with. We recode these into a smaller number of genres by separating the primary genres from the sub genres.\nIn contrast to Xbox and Nintendo data, Steam data is not session-level; rather, it is a total amount of time spent playing each game during the previous hour. So to calculate how much time each player spent playing each genre each day and create a variable for how many sessions, we need to recode the data to match the format of the other two datasets.\n\n\nShow code (merge data)\nnin &lt;- ninRaw |&gt; \n  mutate(sessionEnd = sessionStart + minutes(round(duration)), .after = sessionStart) |&gt; \n  separate(genre, into = c(\"genre1\", \"genre2\", \"genre3\", \"genre4\", \"genre5\"), sep = \",\", fill = \"right\")\n\nxbox &lt;- xboxRaw |&gt; \n  mutate(sessionEnd = sessionStart + minutes(round(duration)), .after = sessionStart) |&gt; \n  separate(genre, into = c(\"genre1\", \"genre2\", \"genre3\", \"genre4\", \"genre5\"), sep = \",\", fill = \"right\")\n\nsteam &lt;- steamRaw |&gt;\n  rename(\n    duration = minutes,\n    titleID = Name,\n  ) |&gt; \n  mutate(sessionStart = date + hours(hour)) |&gt; \n  separate(genre, into = c(\"genre1\", \"genre2\", \"genre3\", \"genre4\", \"genre5\"), sep = \",\", fill = \"right\") |&gt; \n  group_by(pid, date) |&gt;                    # Group by player ID and date\n  mutate(session = row_number()) |&gt;         # Create a sequential session number\n  ungroup()       \n\ntelemetry &lt;- bind_rows(nin, xbox, steam) |&gt; \n  group_by(pid, genre1) |&gt;\n  mutate(previous_day_duration = lag(duration, 1)) |&gt;\n  ungroup()",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#aggregate-telemetry-data",
    "href": "scripts/4_genres.html#aggregate-telemetry-data",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.3 Aggregate telemetry data",
    "text": "5.3 Aggregate telemetry data\nAggregate playtime by genre within each wave for each participant, in wide format.\n\n\nShow code (aggregate playtime)\naggregated_playtime &lt;- telemetry |&gt;\n  mutate(wave = case_when(\n    date &gt;= as.Date(\"2024-05-01\") & date &lt;= as.Date(\"2024-05-14\") ~ 1,\n    date &gt;= as.Date(\"2024-05-15\") & date &lt;= as.Date(\"2024-05-28\") ~ 2,\n    date &gt;= as.Date(\"2024-05-29\") & date &lt;= as.Date(\"2024-06-11\") ~ 3,\n    date &gt;= as.Date(\"2024-06-12\") & date &lt;= as.Date(\"2024-06-25\") ~ 4,\n    date &gt;= as.Date(\"2024-06-26\") & date &lt;= as.Date(\"2024-07-09\") ~ 5,\n    date &gt;= as.Date(\"2024-07-10\") & date &lt;= as.Date(\"2024-07-23\") ~ 6\n  )) %&gt;%\n  mutate(across(starts_with(\"genre\"), ~clean_string(.))) |&gt; \n  group_by(pid, wave, genre1) |&gt;\n  filter(duration &lt; 720) |&gt; \n  summarise(time = sum(duration/14/60, na.rm = TRUE), .groups = \"drop\") |&gt; # Calculate total time per genre as hours per day \n  pivot_wider(\n    names_from = genre1, \n    values_from = time, \n    values_fill = 0, # Fill missing values with 0\n    names_prefix = \"time_\"\n  ) %&gt;%\n  mutate(\n    total_time_all_genres = rowSums(dplyr::select(., starts_with(\"time_\")), na.rm = TRUE), # Calculate total time as hours per day \n    across(starts_with(\"time_\"), ~ . / total_time_all_genres, .names = \"prop_{.col}\"), # Calculate proportion of time for each genre\n  )\n\n# get the variable names\ngenre_vars &lt;- aggregated_playtime |&gt; \n  dplyr::select(starts_with(\"time_\")) |&gt; \n  colnames()\n\n# demean\naggregated_playtime &lt;- aggregated_playtime |&gt; \n  bind_cols(\n    datawizard::demean(aggregated_playtime, select = c(genre_vars, \"total_time_all_genres\"), by = \"pid\")\n  ) |&gt; \n  left_join(panel, by = c(\"pid\", \"wave\"))",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#analysis",
    "href": "scripts/4_genres.html#analysis",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.4 Analysis",
    "text": "5.4 Analysis\nData is analyzed using a multilevel model to account for the nested structure of the data, where repeated measurements (6 bi-weekly waves) are nested within participants. In this analysis, we examine the relationship between playtime and well-being, as well as how this relationship is moderated by genre. We test two hypotheses: H1. The overall effect of playtime on well-being H2. Genre moderates the relationship between playtime and well-being.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#h1.-the-overall-effect-of-playtime-on-wellbeing",
    "href": "scripts/4_genres.html#h1.-the-overall-effect-of-playtime-on-wellbeing",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.5 H1. The overall effect of playtime on wellbeing",
    "text": "5.5 H1. The overall effect of playtime on wellbeing\nTo test the hypothesis that playtime is associated with well-being, we fit a random effects model with random intercepts and slopes for total playtime within and between genres. We then conduct an equivalence test to determine if the effect of playtime on well-being is within a predefined equivalence margin.\n\n\nShow code (h1_model)\nh1_total_time &lt;- lmer(\n  wemwbs ~ total_time_all_genres_within + total_time_all_genres_between + (1 + total_time_all_genres_within | pid), \n  data = aggregated_playtime\n)\n\n# Custom formatting function for scientific notation\nscientific_fmt &lt;- function(x) {\n  formatC(x, format = \"e\", digits = 3)}  # Show numbers in scientific notation with 3 significant digits\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H1` = h1_total_time),\n  fmt = scientific_fmt,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H1\n              \n        \n        \n        \n                \n                  (Intercept)                                     \n                  2.992e+00 [2.970e+00, 3.014e+00]***\n                \n                \n                  total_time_all_genres_within                    \n                  -5.747e-03 [-3.739e-02, 2.590e-02] \n                \n                \n                  total_time_all_genres_between                   \n                  2.548e-03 [-1.706e-02, 2.215e-02]  \n                \n                \n                  SD (Intercept pid)                              \n                  1.051e-02 [  NA,   NA]             \n                \n                \n                  SD (total_time_all_genres_within pid)           \n                  2.826e-02 [  NA,   NA]             \n                \n                \n                  Cor (Intercept~total_time_all_genres_within pid)\n                  -1.000e+00 [  NA,   NA]            \n                \n                \n                  SD (Observations)                               \n                  5.360e-01 [  NA,   NA]             \n                \n                \n                  Num.Obs.                                        \n                  7411                               \n                \n                \n                  R2 Marg.                                        \n                  0.000                              \n                \n                \n                  R2 Cond.                                        \n                  0.001                              \n                \n                \n                  AIC                                             \n                  11827.5                            \n                \n                \n                  BIC                                             \n                  11875.9                            \n                \n                \n                  ICC                                             \n                  0.0                                \n                \n                \n                  RMSE                                            \n                  0.54                               \n                \n        \n      \n    \n\n\n\nThis equivalence test is a way to formally test if the within-person effect of total playtime is small enough to be considered equivalent to zero, within a predefined practical margin. If the test confirms equivalence, it strengthens the argument that the effect of playtime on the outcome is negligible or irrelevant.\n\n5.5.1 Equivalence test\n\n\nShow code (h1_equivalence)\nhypotheses(h1_total_time, \"total_time_all_genres_within = 0\", equivalence = c(-.06, .06))\n\n\n\n                             Term Estimate Std. Error      z Pr(&gt;|z|)   S\n total_time_all_genres_within = 0 -0.00575     0.0161 -0.356    0.722 0.5\n   2.5 % 97.5 % p (NonSup) p (NonInf) p (Equiv)\n -0.0374 0.0259     &lt;0.001     &lt;0.001    &lt;0.001\n\nColumns: term, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high, statistic.noninf, statistic.nonsup, p.value.noninf, p.value.nonsup, p.value.equiv",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#h2h3.-at-least-one-genres-playtime-predicts-wellbeing",
    "href": "scripts/4_genres.html#h2h3.-at-least-one-genres-playtime-predicts-wellbeing",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.6 H2/H3. At least one genre’s playtime predicts wellbeing",
    "text": "5.6 H2/H3. At least one genre’s playtime predicts wellbeing\nMultilevel within-between linear regression whereby playtime per genre (within- and between-centered) during the previous 2 weeks predicts wellbeing (WEMWBS), with a random intercept and random slopes for within-person variables. Due to identifiability issues with the high number of coefficients, we will fix the correlation between random intercept and random slope to 0.\n\n5.6.1 REWB model\nFor H2 and H3, we fit a single model with random slopes for each genre within and between genres. This model allows us to estimate the effect of each genre on well-being, while accounting for the nested structure of the data. We can then conduct pairwise comparisons to determine which genres have a significant effect on well-being.\nInterpretations:\n\ntime_*_between: “Group-level effect”: People who play x + 1 units more of genre_* report higher/lower wemwbs scores\ntime_*_within: “Within-person effect”: During a period when people play x + 1 units more of genre_* they report higher/lower wemwbs scores\n\n\n\nShow code (h2_rewb_model)\n# get the variable names\ngenre_within_vars &lt;- aggregated_playtime |&gt;\n  dplyr::select(ends_with(c(\"_within\"))) |&gt;\n  dplyr::select(-total_time_all_genres_within) |&gt; \n  colnames() |&gt;\n  sort()\n\ngenre_between_vars &lt;- aggregated_playtime |&gt;\n  dplyr::select(ends_with(c(\"_between\"))) |&gt;\n  dplyr::select(-total_time_all_genres_between) |&gt; \n  colnames() |&gt;\n  sort()\n\ngenre_vars_demean &lt;- c(genre_within_vars, genre_between_vars)\n\n## rewb\nfit_h2_rewb &lt;- lmer(\n  paste(\n      \"wemwbs ~\", paste(genre_vars_demean, collapse = \"+\"),\n      \"+ (1 | pid)\"\n    ),\n  aggregated_playtime\n)\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H2` = fit_h2_rewb),\n  fmt = scientific_fmt,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n    \n\n    \n    \n      \n        \n        \n              \n                 \n                Model H2\n              \n        \n        \n        \n                \n                  (Intercept)                          \n                  2.987e+00 [2.963e+00, 3.011e+00]***\n                \n                \n                  time_action_within                   \n                  -3.853e-02 [-1.371e-01, 6.007e-02] \n                \n                \n                  time_adventure_within                \n                  -6.869e-02 [-1.892e-01, 5.184e-02] \n                \n                \n                  time_arcade_within                   \n                  -9.326e-03 [-1.663e-01, 1.476e-01] \n                \n                \n                  time_card_board_game_within          \n                  -1.536e-03 [-1.526e-01, 1.495e-01] \n                \n                \n                  time_casual_within                   \n                  -2.672e-01 [-6.950e-01, 1.606e-01] \n                \n                \n                  time_fighting_within                 \n                  -7.379e-02 [-2.286e-01, 8.105e-02] \n                \n                \n                  time_hack_and_slashbeat_em_up_within \n                  5.607e-02 [-1.075e-01, 2.197e-01]  \n                \n                \n                  time_indie_within                    \n                  -3.125e-01 [-9.225e-01, 2.975e-01] \n                \n                \n                  time_moba_within                     \n                  -4.532e-02 [-1.991e-01, 1.084e-01] \n                \n                \n                  time_music_within                    \n                  2.338e-01 [7.528e-02, 3.922e-01]** \n                \n                \n                  time_platform_within                 \n                  1.012e-01 [-5.509e-02, 2.576e-01]  \n                \n                \n                  time_puzzle_within                   \n                  -6.681e-02 [-2.344e-01, 1.008e-01] \n                \n                \n                  time_racing_within                   \n                  -6.856e-03 [-1.652e-01, 1.515e-01] \n                \n                \n                  time_real_time_strategy_rts_within   \n                  1.428e-02 [-1.397e-01, 1.683e-01]  \n                \n                \n                  time_roleplaying_rpg_within          \n                  -1.309e-03 [-1.542e-01, 1.516e-01] \n                \n                \n                  time_shooter_within                  \n                  4.741e-02 [-1.091e-01, 2.039e-01]  \n                \n                \n                  time_simulator_within                \n                  -5.865e-02 [-2.123e-01, 9.503e-02] \n                \n                \n                  time_sport_within                    \n                  -5.587e-02 [-2.166e-01, 1.048e-01] \n                \n                \n                  time_strategy_within                 \n                  -1.123e-01 [-2.658e-01, 4.115e-02] \n                \n                \n                  time_tactical_within                 \n                  -4.489e-02 [-1.957e-01, 1.059e-01] \n                \n                \n                  time_turnbased_strategy_tbs_within   \n                  5.993e-02 [-9.384e-02, 2.137e-01]  \n                \n                \n                  time_visual_novel_within             \n                  6.599e-02 [-9.045e-02, 2.224e-01]  \n                \n                \n                  time_action_between                  \n                  -9.239e-04 [-8.611e-02, 8.426e-02] \n                \n                \n                  time_adventure_between               \n                  1.422e-01 [-1.130e-01, 3.974e-01]  \n                \n                \n                  time_arcade_between                  \n                  -3.321e-02 [-3.746e-01, 3.082e-01] \n                \n                \n                  time_card_board_game_between         \n                  -3.027e-01 [-6.151e-01, 9.573e-03]+\n                \n                \n                  time_casual_between                  \n                  -1.045e-01 [-1.060e+00, 8.515e-01] \n                \n                \n                  time_fighting_between                \n                  3.661e-01 [2.111e-02, 7.111e-01]*  \n                \n                \n                  time_hack_and_slashbeat_em_up_between\n                  1.035e-01 [-2.736e-01, 4.806e-01]  \n                \n                \n                  time_indie_between                   \n                  5.497e-01 [-7.194e-01, 1.819e+00]  \n                \n                \n                  time_moba_between                    \n                  7.722e-02 [-2.687e-01, 4.232e-01]  \n                \n                \n                  time_music_between                   \n                  2.227e-01 [-1.165e-01, 5.620e-01]  \n                \n                \n                  time_platform_between                \n                  -3.897e-02 [-3.873e-01, 3.094e-01] \n                \n                \n                  time_puzzle_between                  \n                  -1.758e-01 [-5.439e-01, 1.924e-01] \n                \n                \n                  time_racing_between                  \n                  2.282e-01 [-1.294e-01, 5.858e-01]  \n                \n                \n                  time_real_time_strategy_rts_between  \n                  -3.111e-01 [-6.528e-01, 3.056e-02]+\n                \n                \n                  time_roleplaying_rpg_between         \n                  1.995e-03 [-3.482e-01, 3.522e-01]  \n                \n                \n                  time_shooter_between                 \n                  -1.979e-01 [-5.477e-01, 1.519e-01] \n                \n                \n                  time_simulator_between               \n                  1.838e-01 [-1.814e-01, 5.489e-01]  \n                \n                \n                  time_sport_between                   \n                  -1.335e-01 [-4.927e-01, 2.256e-01] \n                \n                \n                  time_strategy_between                \n                  -2.206e-01 [-5.606e-01, 1.194e-01] \n                \n                \n                  time_tactical_between                \n                  2.097e-01 [-1.393e-01, 5.586e-01]  \n                \n                \n                  time_turnbased_strategy_tbs_between  \n                  -3.492e-02 [-3.701e-01, 3.003e-01] \n                \n                \n                  time_visual_novel_between            \n                  -5.597e-02 [-3.870e-01, 2.751e-01] \n                \n                \n                  SD (Intercept pid)                   \n                  0.000e+00 [  NA,   NA]             \n                \n                \n                  SD (Observations)                    \n                  5.362e-01 [  NA,   NA]             \n                \n                \n                  Num.Obs.                             \n                  7411                               \n                \n                \n                  R2 Marg.                             \n                  0.006                              \n                \n                \n                  AIC                                  \n                  11955.5                            \n                \n                \n                  BIC                                  \n                  12280.3                            \n                \n                \n                  RMSE                                 \n                  0.53                               \n                \n        \n      \n    \n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nNot possible to model all genre_*_within as random. Unidentifiable model.\n\n\n\nIdeally, the demeaned variables should be included as random slopes. However, this will likely lead to identifiability issues. This code shows how we can fit a model with random slopes, but without a correlation between slopes and intercepts; as this takes a long time to run, we do not execute it here.\n\n\nShow code (h2_rewb_re_slopes)\n# fit model\nfit_h2_rewb_re_slopes &lt;- lmer(\n  paste(\n      \"wemwbs ~\", paste(genre_vars_demean, collapse = \"+\"),\n      \"+ (1 +\",\n      paste(genre_within_vars, collapse = \"+\"),\n      \"|| pid)\"\n    ),\n  aggregated_playtime\n)\n\n# Summarize the model using modelsummary\nmodelsummary(\n  list(`Model H2` = fit_h2_rewb_re_slopes),\n  fmt = scientific_fmt,\n  estimate  = \"{estimate} [{conf.low}, {conf.high}]{stars}\", \n  statistic = NULL\n)\n\n\n\n\n5.6.2 H2: Biweekly playtime in one or more of the 23 IGDB game genres is associated with individual changes in general mental wellbeing (H2a, “within-person”) and with wellbeing differences between participants (H2b, “between-person”).\nFor both H2 and H3, we will conduct a joint Wald test on the coefficients in the above model. A joint test simultaneously assesses multiple related hypotheses, allowing us to determine whether the playtime effects for any of the 23 genres differ significantly from zero (H2) and from each other (H3). The joint test the estimated coefficients and their covariance matrix to determine if a set of parameters jointly equals specified value; this test follows the chi-squared distribution (Wald, 1943). The error rate is controlled in a similar manner as would be achieved by correcting the alpha level for all 23 surrogate hypotheses (García-Pérez, 2023).\nFor H2, we will test whether any genre’s playtime is associated with changes in mental wellbeing by evaluating if at least one genre-specific coefficient is different from zero. we assess the probability of the data given the null that the genre coefficients as a group are not statistically different than 0 vs the alternative that at least one is non-zero.\n\n\nShow code (joint hypotheses H2)\n# test against null of all coefficients being 0 \nhypotheses(fit_h2_rewb, joint = \"_between\", hypothesis = 0)\n\n\n\n\nJoint hypothesis test:\n  = 0\n \n    F Pr(&gt;|F|) Df 1 Df 2\n 1.06    0.378   22 7366\n\nColumns: statistic, p.value, df1, df2 \n\n\nShow code (joint hypotheses H2)\nhypotheses(fit_h2_rewb, joint = \"_within\", hypothesis = 0)\n\n\n\n\nJoint hypothesis test:\n  = 0\n \n     F Pr(&gt;|F|) Df 1 Df 2\n 0.932    0.551   22 7366\n\nColumns: statistic, p.value, df1, df2 \n\n\n\n\n5.6.3 H3. At least one genre predicts playtime\n\n\nShow code (joint hypotheses H3)\n# test against null of all coefficients being equal\nlinearHypothesis(fit_h2_rewb, paste0(genre_within_vars[1], \" = \", genre_within_vars[2:length(genre_within_vars)]))\n\n\n\nLinear hypothesis test:\ntime_action_within - time_adventure_within = 0\ntime_action_within - time_arcade_within = 0\ntime_action_within - time_card_board_game_within = 0\ntime_action_within - time_casual_within = 0\ntime_action_within - time_fighting_within = 0\ntime_action_within - time_hack_and_slashbeat_em_up_within = 0\ntime_action_within - time_indie_within = 0\ntime_action_within - time_moba_within = 0\ntime_action_within - time_music_within = 0\ntime_action_within - time_platform_within = 0\ntime_action_within - time_puzzle_within = 0\ntime_action_within - time_racing_within = 0\ntime_action_within - time_real_time_strategy_rts_within = 0\ntime_action_within - time_roleplaying_rpg_within = 0\ntime_action_within - time_shooter_within = 0\ntime_action_within - time_simulator_within = 0\ntime_action_within - time_sport_within = 0\ntime_action_within - time_strategy_within = 0\ntime_action_within - time_tactical_within = 0\ntime_action_within - time_turnbased_strategy_tbs_within = 0\ntime_action_within - time_visual_novel_within = 0\n\nModel 1: restricted model\nModel 2: wemwbs ~ time_action_within + time_adventure_within + time_arcade_within + \n    time_card_board_game_within + time_casual_within + time_fighting_within + \n    time_hack_and_slashbeat_em_up_within + time_indie_within + \n    time_moba_within + time_music_within + time_platform_within + \n    time_puzzle_within + time_racing_within + time_real_time_strategy_rts_within + \n    time_roleplaying_rpg_within + time_shooter_within + time_simulator_within + \n    time_sport_within + time_strategy_within + time_tactical_within + \n    time_turnbased_strategy_tbs_within + time_visual_novel_within + \n    time_action_between + time_adventure_between + time_arcade_between + \n    time_card_board_game_between + time_casual_between + time_fighting_between + \n    time_hack_and_slashbeat_em_up_between + time_indie_between + \n    time_moba_between + time_music_between + time_platform_between + \n    time_puzzle_between + time_racing_between + time_real_time_strategy_rts_between + \n    time_roleplaying_rpg_between + time_shooter_between + time_simulator_between + \n    time_sport_between + time_strategy_between + time_tactical_between + \n    time_turnbased_strategy_tbs_between + time_visual_novel_between + \n    (1 | pid)\n\n  Df  Chisq Pr(&gt;Chisq)\n1                     \n2 21 20.385      0.497\n\n\nShow code (joint hypotheses H3)\nlinearHypothesis(fit_h2_rewb, paste0(genre_between_vars[1], \" = \", genre_between_vars[2:length(genre_between_vars)]))\n\n\n\nLinear hypothesis test:\ntime_action_between - time_adventure_between = 0\ntime_action_between - time_arcade_between = 0\ntime_action_between - time_card_board_game_between = 0\ntime_action_between - time_casual_between = 0\ntime_action_between - time_fighting_between = 0\ntime_action_between - time_hack_and_slashbeat_em_up_between = 0\ntime_action_between - time_indie_between = 0\ntime_action_between - time_moba_between = 0\ntime_action_between - time_music_between = 0\ntime_action_between - time_platform_between = 0\ntime_action_between - time_puzzle_between = 0\ntime_action_between - time_racing_between = 0\ntime_action_between - time_real_time_strategy_rts_between = 0\ntime_action_between - time_roleplaying_rpg_between = 0\ntime_action_between - time_shooter_between = 0\ntime_action_between - time_simulator_between = 0\ntime_action_between - time_sport_between = 0\ntime_action_between - time_strategy_between = 0\ntime_action_between - time_tactical_between = 0\ntime_action_between - time_turnbased_strategy_tbs_between = 0\ntime_action_between - time_visual_novel_between = 0\n\nModel 1: restricted model\nModel 2: wemwbs ~ time_action_within + time_adventure_within + time_arcade_within + \n    time_card_board_game_within + time_casual_within + time_fighting_within + \n    time_hack_and_slashbeat_em_up_within + time_indie_within + \n    time_moba_within + time_music_within + time_platform_within + \n    time_puzzle_within + time_racing_within + time_real_time_strategy_rts_within + \n    time_roleplaying_rpg_within + time_shooter_within + time_simulator_within + \n    time_sport_within + time_strategy_within + time_tactical_within + \n    time_turnbased_strategy_tbs_within + time_visual_novel_within + \n    time_action_between + time_adventure_between + time_arcade_between + \n    time_card_board_game_between + time_casual_between + time_fighting_between + \n    time_hack_and_slashbeat_em_up_between + time_indie_between + \n    time_moba_between + time_music_between + time_platform_between + \n    time_puzzle_between + time_racing_between + time_real_time_strategy_rts_between + \n    time_roleplaying_rpg_between + time_shooter_between + time_simulator_between + \n    time_sport_between + time_strategy_between + time_tactical_between + \n    time_turnbased_strategy_tbs_between + time_visual_novel_between + \n    (1 | pid)\n\n  Df  Chisq Pr(&gt;Chisq)\n1                     \n2 21 23.343      0.326\n\n\n\n\n5.6.4 Plot all estimates\nHere we plot the estimates for the genre effects on well-being, along with both uncorrected (95%) confidence intervals, and the corrected confidence intervals from multcomp::glht.\nThe confidence intervals are particularly wide because there is no true covariation in the data, and the model is trying to estimate the effect of each genre on well-being while accounting for the nested structure of the data. We anticipate smaller CIs in the true data.\n\n\nShow code (plot estimates)\ncorrected_cis &lt;- confint(multcomp::glht(fit_h2_rewb, linfct = paste0(genre_within_vars, \" = -.06\")),\n                         adjusted(type = .)) |&gt; \n  tidy()\n\ntests &lt;- tidy(fit_h2_rewb, conf.int = TRUE) |&gt; \n  filter(grepl(\"within\", term)) |&gt; \n  rename(conf.low.uncorrected = conf.low, conf.high.uncorrected = conf.high) |&gt;\n  left_join(corrected_cis, by = c(\"term\" = \"contrast\"))\n\n# we can also calculate CIs for marginal effects; for mean+1 contrasts these are functionally identical in our models.\n# ests_fit_h2_rewb &lt;- avg_comparisons(fit_h2_rewb) |&gt;\n#   as.data.frame()\n\ntests |&gt; \n  ggplot(aes(estimate.x, term)) +\n  geom_linerange(\n    aes(xmin = conf.low, xmax = conf.high),\n    linewidth = .5\n  ) +\n  geom_linerange(\n    aes(xmin = conf.low.uncorrected, xmax = conf.high.uncorrected),\n    linewidth = 1\n  ) +\n  geom_point() +\n  geom_vline(xintercept = -.06, linetype = \"dashed\") +\n  geom_vline(xintercept = .06, linetype = \"dashed\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  },
  {
    "objectID": "scripts/4_genres.html#precision-analysis",
    "href": "scripts/4_genres.html#precision-analysis",
    "title": "5  Study 3: Genres and wellbeing",
    "section": "5.7 Precision Analysis",
    "text": "5.7 Precision Analysis\nIn the above examples, we use the simulated data, which mirrors the structure of the true data, but lacks control over the distribution and relationships between the particular variables used in this study. To provide rough indications of the estimated precision of our tests, here we simulate a dataset with a known relationship between playtime and wellbeing, and then fit the models as above.\nWe arbitrarily assume that the effect of an hour of daily play in each genre on wellbeing varies from -.2 to .2, consisting of both a within-person and between-person component; this would produce a roughly null relationship on average but significant for particular genres. We specify a within-person SD for the WEMWBS of .7 based on prior literature (Ballou et al. 2024). The distribution of playtime is realistic based on the parameters in 0_generateSyntheticData.qmd; although the distribution of genres is more even than likely in the true dataset.\n\n\nShow the code (precision analysis)\ngenre_coefs &lt;- runif(length(genre_vars), -.2, .2)\nnames(genre_coefs) &lt;- genre_vars\n\nsim_h3 &lt;- aggregated_playtime |&gt; \n  dplyr::select(pid, wave, contains(\"time\"), wemwbs) %&gt;%\n  group_by(pid) |&gt;\n  mutate(\n    random_intercept = rnorm(n(), mean = 0, sd = .6),\n    random_slope = rnorm(n(), mean = 0, sd = .2)\n  ) |&gt; \n  ungroup() |&gt; \n  mutate(wemwbs_mean = rowSums(across(time_action:time_indie, ~ .x * (random_slope + genre_coefs[[cur_column()]]))),\n         wemwbs = rnorm(n(), mean = random_intercept + wemwbs_mean, sd = .7))\n\nh1_total_time &lt;- lmer(\n  wemwbs ~ total_time_all_genres_within + total_time_all_genres_between + (1 + total_time_all_genres_within | pid), \n  data = sim_h3\n)\nsummary(h1_total_time)\n\n\nLinear mixed model fit by REML ['lmerMod']\nFormula: \nwemwbs ~ total_time_all_genres_within + total_time_all_genres_between +  \n    (1 + total_time_all_genres_within | pid)\n   Data: sim_h3\n\nREML criterion at convergence: 31826.6\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-4.0485 -0.6727 -0.0069  0.6600  3.5846 \n\nRandom effects:\n Groups   Name                         Variance Std.Dev. Corr\n pid      (Intercept)                  0.01211  0.1101       \n          total_time_all_genres_within 0.06807  0.2609   0.44\n Residual                              0.89086  0.9439       \nNumber of obs: 11586, groups:  pid, 1998\n\nFixed effects:\n                              Estimate Std. Error t value\n(Intercept)                    0.02403    0.01640   1.465\ntotal_time_all_genres_within  -0.03413    0.02471  -1.381\ntotal_time_all_genres_between -0.03760    0.01475  -2.549\n\nCorrelation of Fixed Effects:\n                 (Intr) ttl_tm_ll_gnrs_w\nttl_tm_ll_gnrs_w -0.002                 \nttl_tm_ll_gnrs_b -0.831  0.021          \n\n\nShow the code (precision analysis)\n# fit model\nfit_h2_rewb_sim &lt;- lmer(\n  paste(\n      \"wemwbs ~\", paste(genre_vars_demean, collapse = \"+\"),\n      \"+ (1 | pid)\"\n    ),\n  sim_h3\n)\nsummary(fit_h2_rewb_sim)\n\n\nLinear mixed model fit by REML ['lmerMod']\nFormula: \nwemwbs ~ time_action_within + time_adventure_within + time_arcade_within +  \n    time_card_board_game_within + time_casual_within + time_fighting_within +  \n    time_hack_and_slashbeat_em_up_within + time_indie_within +  \n    time_moba_within + time_music_within + time_platform_within +  \n    time_puzzle_within + time_racing_within + time_real_time_strategy_rts_within +  \n    time_roleplaying_rpg_within + time_shooter_within + time_simulator_within +  \n    time_sport_within + time_strategy_within + time_tactical_within +  \n    time_turnbased_strategy_tbs_within + time_visual_novel_within +  \n    time_action_between + time_adventure_between + time_arcade_between +  \n    time_card_board_game_between + time_casual_between + time_fighting_between +  \n    time_hack_and_slashbeat_em_up_between + time_indie_between +  \n    time_moba_between + time_music_between + time_platform_between +  \n    time_puzzle_between + time_racing_between + time_real_time_strategy_rts_between +  \n    time_roleplaying_rpg_between + time_shooter_between + time_simulator_between +  \n    time_sport_between + time_strategy_between + time_tactical_between +  \n    time_turnbased_strategy_tbs_between + time_visual_novel_between +  \n    (1 | pid)\n   Data: sim_h3\n\nREML criterion at convergence: 31811.3\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-4.5229 -0.6698 -0.0036  0.6655  3.5212 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n pid      (Intercept) 0.009712 0.09855 \n Residual             0.899672 0.94851 \nNumber of obs: 11586, groups:  pid, 1998\n\nFixed effects:\n                                       Estimate Std. Error t value\n(Intercept)                           -0.001396   0.017818  -0.078\ntime_action_within                    -0.082757   0.069967  -1.183\ntime_adventure_within                 -0.108455   0.087833  -1.235\ntime_arcade_within                     0.043556   0.111176   0.392\ntime_card_board_game_within            0.171394   0.112263   1.527\ntime_casual_within                    -0.503285   0.313612  -1.605\ntime_fighting_within                  -0.241463   0.114277  -2.113\ntime_hack_and_slashbeat_em_up_within   0.108317   0.118924   0.911\ntime_indie_within                      0.298340   0.444731   0.671\ntime_moba_within                      -0.429218   0.114411  -3.752\ntime_music_within                     -0.222963   0.115576  -1.929\ntime_platform_within                  -0.130481   0.113121  -1.153\ntime_puzzle_within                     0.102742   0.118092   0.870\ntime_racing_within                    -0.311464   0.114806  -2.713\ntime_real_time_strategy_rts_within     0.061902   0.109552   0.565\ntime_roleplaying_rpg_within            0.265514   0.113015   2.349\ntime_shooter_within                   -0.106992   0.115889  -0.923\ntime_simulator_within                  0.011983   0.111349   0.108\ntime_sport_within                      0.028992   0.116573   0.249\ntime_strategy_within                   0.306823   0.113099   2.713\ntime_tactical_within                   0.022961   0.110662   0.207\ntime_turnbased_strategy_tbs_within     0.015596   0.112384   0.139\ntime_visual_novel_within              -0.156799   0.113897  -1.377\ntime_action_between                    0.159638   0.063465   2.515\ntime_adventure_between                -0.211835   0.190982  -1.109\ntime_arcade_between                    0.316874   0.254176   1.247\ntime_card_board_game_between          -0.065721   0.235024  -0.280\ntime_casual_between                   -0.832767   0.709979  -1.173\ntime_fighting_between                 -0.415746   0.256483  -1.621\ntime_hack_and_slashbeat_em_up_between -0.235432   0.281112  -0.838\ntime_indie_between                    -0.112480   0.979453  -0.115\ntime_moba_between                     -0.068524   0.261991  -0.262\ntime_music_between                     0.067223   0.255790   0.263\ntime_platform_between                 -0.172413   0.257775  -0.669\ntime_puzzle_between                   -0.179568   0.273666  -0.656\ntime_racing_between                    0.097438   0.268186   0.363\ntime_real_time_strategy_rts_between   -0.043180   0.252649  -0.171\ntime_roleplaying_rpg_between           0.410954   0.264117   1.556\ntime_shooter_between                  -0.302373   0.264189  -1.145\ntime_simulator_between                -0.449777   0.260109  -1.729\ntime_sport_between                     0.160082   0.265361   0.603\ntime_strategy_between                  0.439197   0.260646   1.685\ntime_tactical_between                  0.191266   0.264628   0.723\ntime_turnbased_strategy_tbs_between   -0.272583   0.252251  -1.081\ntime_visual_novel_between             -0.007673   0.250439  -0.031\n\n\nShow the code (precision analysis)\ntidy(fit_h2_rewb_sim, conf.int = TRUE) |&gt;\n  ggplot(aes(estimate, term)) +\n  geom_linerange(\n    aes(xmin = conf.low, xmax = conf.high),\n    linewidth = .5\n  ) +\n  geom_point() +\n  geom_vline(xintercept = -.06, linetype = \"dashed\") +\n  geom_vline(xintercept = .06, linetype = \"dashed\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nBallou, Nick, Craig Jeffrey Robb Sewall, Jack Ratcliffe, David Zendle, Laurissa Tokarchuk, and Sebastian Deterding. 2024. “Registered Report Evidence Suggests No Relationship Between Objectively-Tracked Video Game Playtime and Wellbeing over 3 Months.” Technology, Mind, and Behavior 5 (1): 1–15. https://doi.org/10.1037/tmb0000124.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Study 3: Genres and wellbeing</span>"
    ]
  }
]